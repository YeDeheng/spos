How	R
to	P
evalute	^
prototype	N
js	^
files	N
through	P
rhino	N
script	N
engine	N
in	P
Java	^

I	O
am	V
having	V
problems	N
evaluating	V
a	D
script.js	N
file	V
which	O
is	V
dependent	A
of	P
prototype.js	^
.	,
When	R
i	O
am	V
trying	V
to	P
evaluate	V
the	D
script.js	N
file	V
through	P
rhino	N
script	N
engine	N
in	P
java	^
i	^
got	V
Script	A
Exception	N
like	V
"	,
TypeError	^
:	,
$H	O
is	V
not	R
a	D
function	N
,	,
it	O
is	V
java.lang.String	V
.	,
"	,
.	,
How	R
do	V
I	O
evaluate	V
the	D
files	N
and	&
how	R
to	P
include	V
prototype.js	^
and	&
to	P
define	V
the	D
prototype	N
objects	N
?	,

have	V
you	O
evaluated	V
them	O
in	P
the	D
correct	A
order	N
?	,
They	O
need	V
to	P
be	V
evaluated	V
from	P
the	D
bottom	A
up	P

You	O
cannot	V
evaluate	V
prototype.js	O
using	V
Rhino	R
only	A
.	,
prototype.js	L
have	V
many	A
references	N
to	P
the	D
HTML	^
DOM	^
which	O
is	V
not	R
implemented	V
in	P
Rhino	^
/	^
Java	^
.	,
For	P
example	N
(	,
from	P
prototype.js	^
):	,
document.createTextNode	N
(	,
'')	^
The	^
document	V
global	A
object	N
is	V
not	R
defined	A
in	P
Rhino	^
context	N
and	&
createTextNode	N
is	V
not	R
defined	A
too	R
.	,
The	D
solution	N
is	V
to	P
remove	V
all	D
Objects	V
/	,
Functions	^
from	P
your	D
copy	N
of	P
prototype.js	V
that	D
references	N
the	D
document	N
,	,
window	N
or	&
navigator	N
objects	N
.	,
(	,
assuming	V
your	D
js	N
file	V
does	V
not	R
use	V
them	O
)	,

You	O
could	V
also	R
get	V
away	R
with	P
declaring	V
some	D
dummy	A
objects	N
for	P
document	N
,	,
window	N
,	,
navigator	N
and	&
so	R
on	P
.	,
This	D
way	N
you	O
do	V
not	R
have	V
to	P
change	V
prototype.js	N
.	,

Yes	!
,	,
that's	L
cool	A
:)	E

Take	V
a	D
look	V
at	P
env-js	^
,	,
which	O
is	V
a	D
mock	A
browser	N
environment	N
for	P
Rhino	^
.	,
It's	L
based	V
on	P
some	D
work	N
by	P
John	^
Resig	^
to	P
get	V
JQuery	^
working	V
in	P
Rhino	^
.	,
I	O
wouldn't	V
be	V
surprised	V
if	P
Prototype	^
worked	V
as	P
well	R
.	,

