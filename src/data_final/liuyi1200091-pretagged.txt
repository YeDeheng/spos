JAAS	^
tomcat	^
login	V
module	R
possible	A
method	N
to	P
pass	V
ip	A
address	N

I've	L
been	V
looking	V
into	P
a	D
way	N
of	P
passing	V
the	D
client	N
ip	N
as	P
well	R
as	P
the	D
userid	^
and	&
password	N
from	P
a	D
JAAS	^
login	V
page	N
to	P
the	D
JAAS	^
login	V
module	A
implementation	N
in	P
my	D
web	N
code	N
.	,
JAAS	^
only	R
allows	V
the	D
user	N
id	^
and	&
password	N
to	P
be	V
passed	V
to	P
the	D
login	N
module	N
.	,
My	D
idea	N
is	V
to	P
have	V
a	D
java	N
script	N
code	N
to	P
append	V
the	D
ip	N
address	N
to	P
the	D
user	N
id	^
and	&
then	R
call	V
the	D
form	N
submit	V
.	,
I	O
just	R
don't	V
have	V
the	D
right	A
java	N
script	N
code	N
to	P
do	V
this	D
.	,
Can	V
you	O
help	V
?	,
The	D
web	N
page	N
has	V
two	$
input	N
fields	N
,	,
j_userid	^
and	&
j_password	^
,	,
which	O
the	D
JAAS	N
code	N
knows	V
to	P
look	V
it	O
.	,
So	P
what	D
javaScript	A
code	N
can	V
I	O
use	V
to	P
add	V
the	D
ip	N
address	N
to	P
the	D
j_userid	N
field	N
before	P
the	D
form	N
submit	V
.	,
I	O
was	V
thinking	V
of	P
'	,
ip-address	^
#userid	#
'	,
and	&
then	R
in	P
my	D
login	N
module	^
I'd	L
take	V
the	D
ip	N
address	N
off	T
the	D
userid	N
.	,

Sorry	A
,	,
I	O
don't	V
think	V
there	R
is	V
a	D
way	N
to	P
obtain	V
the	D
ip	N
on	P
the	D
client	N
side	N
,	,
in	P
plain	A
Javascript	N
.	,
Testing	V
the	D
remote	A
ip	N
on	P
the	D
server	N
side	N
is	V
probably	R
not	R
a	D
solution	N
if	P
you	O
don't	V
control	N
the	D
infrastructure	N
between	P
the	D
client	N
and	&
the	D
server	N
(	,
load-balancers	^
,	,
proxies	N
...	,
)	E
.	,
If	P
you're	L
confident	A
the	D
remote	A
ip	N
is	V
the	D
ip	N
of	P
the	D
client	N
,	,
you	O
should	V
be	V
able	A
to	P
hack	V
a	D
tomcat	^
Valve	^
or	&
a	D
servlet	N
filter	N
.	,

I	O
can	V
get	V
the	D
ip	N
address	N
onto	P
the	D
page	N
in	P
a	D
hidden	A
field	N
using	V
a	D
JSF	^
bean	N
.	,
The	D
problem	N
is	V
passing	V
it	O
through	P
to	P
the	D
JAAS	^
login	V
module	^
.	,

I	O
created	V
these	D
two	$
javaScript	A
functions	N
.	,
addIpSubmit	O
is	V
called	V
from	P
a	D
login	N
button	N
.	,
You	O
can	V
see	V
I	O
have	V
a	D
bean	N
to	P
put	V
the	D
ip	N
address	N
into	P
a	D
hidden	A
field	N
.	,
The	^
j_username	^
JAAS	^
field	N
is	V
also	R
hidden	A
and	&
is	V
filled	V
in	P
by	P
the	D
addIpSubmit()	N
function	N
.	,
It	O
mungs	V
the	D
ip	N
to	P
the	D
user	N
name	N
and	&
calls	V
the	D
JAAS	N
submit	V
functions	N
.	,
Then	R
in	P
the	D
login	N
module	P
I	O
get	V
the	D
ip	N
address	N
and	&
user	N
name	N
out	T
.	,
Just	R
remember	V
that	P
the	D
FacesContext.getCurrentInstance()	^
.	,
getExternalContext()	E
.	,
getRemoteUser()	E
now	R
has	V
the	D
ip	^
#userid	#
in	P
it	O
.	,

