Javascript classes and DWR
I've been playing with DWR and converters for a while and I really wanted to map my Java classes to JavaScript classes . Using DWR converters , I have the option to point out what is the name of my JS constructor given a Java class . So far so good ... The problem arises when my JS constructor is within a JS package-like name ( just like YUI's package system , eg my.beautiful.package.MyClass ) . DWR's current implementation doesn't allow me to use this kind of construct , giving me a SyntaxError when I try to use it . Is there an elegant way arround this limitation ?
I don't have a workaround , but for your information there is an opened issue about this : http://bugs.directwebremoting.org/bugs/browse/DWR-103 If I am wrong and it is not the same problem as what you described , let me know and I will delete this comment .
Thats right , I wonder if they will fix it only for version 3 . Here we use version 2 yet .
As far as I know the this isn't possible directly . I have in my current work project experimented with enhancing each returned object on the client side with methods from a Javascript class , which gets the result that I think you are interested in . I'll have to check at work on monday ( now is sunday ) that augmentProto is correct one to use , but I think it is . There may even be a better hook into DWR that'll allow you to do this on the fly automagically .
One thing that I did , I " globalized " all needed constructors used by DWR , ( using the notation as follows * my_beautiful_package_MyClass * ) although it works , its not that elegant =/
