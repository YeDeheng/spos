Java	N
->	N
Apache	N
Commons	N
StringEscapeUtils	N
->	N
escapeJavaScript	N

For	N
a	N
very	N
simple	N
ajax	N
name	N
lookup	N
,	N
I'm	N
sending	N
an	N
id	N
from	N
the	N
client	N
webpage	N
to	N
the	N
server	N
(	N
Tomcat	N
5.5	N
,	N
Java	N
5	N
)	N
,	N
looking	N
it	N
up	N
in	N
a	N
database	N
and	N
returning	N
a	N
string	N
,	N
which	N
is	N
assigned	N
to	N
a	N
javascript	N
variable	N
back	N
in	N
the	N
client	N
(	N
and	N
then	N
displayed	N
)	N
.	N
The	N
javascript	N
code	N
that	N
receives	N
the	N
value	N
is	N
pretty	N
standard	N
:	N
To	N
return	N
the	N
string	N
,	N
I	N
originally	N
had	N
this	N
in	N
the	N
server	N
:	N
Which	N
worked	N
perfectly	N
,	N
if	N
unsafe	N
.	N
Later	N
,	N
I	N
replaced	N
it	N
with	N
:	N
But	N
while	N
safer	N
,	N
the	N
resulting	N
string	N
can't	N
be	N
properly	N
displayed	N
if	N
it	N
contains	N
special	N
chars	N
like	N
"	N
"	N
.	N
For	N
instance	N
,	N
using	N
:	N
sends	N
:	N
to	N
the	N
client	N
.	N
The	N
question	N
:	N
is	N
there	N
a	N
simple	N
way	N
to	N
parse	N
the	N
resulting	N
string	N
in	N
Javascript	N
or	N
is	N
there	N
an	N
alternate	N
escape	N
function	N
I	N
can	N
use	N
in	N
java	N
that	N
would	N
prevent	N
this	N
issue	N
?	N

The	N
following	N
works	N
in	N
every	N
browser	N
I've	N
tried	N
:	N
Perhaps	N
your	N
string	N
is	N
being	N
escaped	N
twice	N
by	N
mistake	N
.	N

Yes	N
,	N
I	N
think	N
in	N
this	N
particular	N
case	N
the	N
escape	N
was	N
unnecessary	N
(	N
see	N
my	N
other	N
comment	N
below	N
)	N

Actually	N
,	N
now	N
that	N
I	N
read	N
it	N
over	N
,	N
I	N
think	N
I	N
actually	N
don't	N
need	N
to	N
escape	N
the	N
string	N
I'm	N
sending	N
back	N
at	N
all	N
...	N
That	N
is	N
,	N
StringEscapeUtils.escapeJavaScript	N
would	N
be	N
useful	N
if	N
the	N
resulting	N
value	N
was	N
printed	N
in	N
the	N
page	N
,	N
like	N
:	N
Or	N
am	N
I	N
missing	N
something	N
and	N
there	N
would	N
still	N
be	N
a	N
valid	N
reason	N
to	N
do	N
the	N
escape	N
in	N
the	N
original	N
case	N
?	N
(	N
when	N
it	N
is	N
returned	N
as	N
a	N
series	N
of	N
bytes	N
back	N
to	N
an	N
ajax	N
onreadystatechange	N
handler	N
and	N
assigned	N
to	N
a	N
js	N
variable	N
)	N

