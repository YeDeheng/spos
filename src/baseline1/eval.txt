If I understand this correctly , every time a car manufacturer is added or removed from the Map , I'd have to add or remove the appropriate select tag in the JSP . Since I get this Map from a vendor's web service , I have no way of knowing how many elements the Map might have .
And , I still don't know of a way to retrieve the names of the cars . The name of the car being a String in a Car object , that's stored in a List that's stored as a value in a Map . Whew ... talk about complicated ...
Not that long ago I thought about something similar . Using jQuery and the TexoTela add-on it wasn't all that difficult . First , you have a data structure like the map mentioned above : Your HTML should look comparable to : Then , you fill the first combo with jQuery code like : where manufacturerSelected is the callback registered on the onChange event This should do the trick . Please note that there may be syntax errors in there ; I have edited my code to reflect your use case and had to strip quite a lot out . If this helps I would appreciate a comment .
First of all , thanks for your answer , extraneon . I'll use it if I don't find any other way . However , there are two issues here . The first one is that I'm not doing this for my own personal project , but as a part of a larger enterprise app for the company I'm currently employed at . Because of that ,
I might not be allowed to use JQuery . They're a bit touchy when it comes to introducing new frameworks in the app . But , if I can't get it to work any other way , I'll just have to get my boss to convince the business guys that that's the only way to do it . However , the larger issue is getting the map
to work in JavaScript . I already mentioned that I'm getting it from a webservice , and my controller passes it to JSP , so I can't just hardcode it in JavaScript , I have to be able to map my map to a JavaScript object , so that I can manipulate it there . I'm still working on my own solution , though , so
if I get anywhere , I'll post the solution here . Once again , everybody , thanks for all the answers , and excuse me for the long comment .
As an add-on on my previous post ; You can put a script tag in your JSP where you iterate over your map . An example about iterating over maps can be found in Maps in Struts . What you would like to achieve ( if you don't care about form submission ) is I think something like : You still have some superfuous " , " which you might wish to prevent , but I think this should do the trick .
I just love a challenge . No jQuery , just plain javascript , tested on Safari . I'd like to add the following remarks in advance : It's faily long due to the error checking . Two parts are generated ; the first script node with the Map and the contents of the manufacterer SELECT Works on My Machine ( TM ) ( Safari / OS X ) There is no ( css ) styling applied . I have bad taste so it's no use anyway . .
Very nice , extraneon ! However , the map is still hardcoded , so the challenge is still on ...	~
:-) To be honest , i managed to solve the problem , although the solution isn't pretty . The populating part is done pretty much the way you did it . I haven't posted it yet ' cause i have a lot to do but I'll post
it as soon as I can , probably the day after tomorrow . Although your solution isn't complete , I'm giving you a vote up , just for the effort you put into it :-) Hint : my solution involves using a scriptlet .
OK . I should have written a JSP and dynamically generate modelsPerManufacturer and the manufacturer SELECT . using nothing but the input Map . I'll update the answer tonight ( it's now 7am here ) .
Here is a working , cut-and-paste answer in jsp without any tag libraries or external dependencies whatsoever . The map with models is hardcoded but shouldn't pose any problems . I separated this answer from my previous answer as the added JSP does not improve readability . And in ' real life ' I would not burden my JSP with all the embedded logic but put it in a class somewhere . Or use tags . All that " first " stuff is to prevent superfluos " , " in the generated code . Using a foreach dosn't give you any knowledge about the amount of elements , so you check for last . You can also skip the first-element handling and strip the last " , " afterwards by decreasing the builder length by 1 .
Well anyway , as i said , i finally managed to do it by myself , so here's my answer ... I receive the map from my controller like this ( I'm using Spring , don't know how this works with other frameworks ): These are my combos : I imported the following classes ( some names have , of course , been changed ): And here's the code that does all the hard work :
How do you restrict the size of a file being uploaded with JavaScript ( or Java ) without transferring the entire file ?
Is there a way to validate on the client side browser whether the size of a file being uploaded from a JSP page is over a set size limit without forcing the user to upload the entire file only to find out it was too large ? I would like to stay away from any proprietary controls or techniques like Flash or ActiveX if possible . Thanks !
This isn't a perfect solution , but if you check the Content-Length HTTP header with request.getHeader ( " Content-Length ") then you can choose to not transfer the entire file . By way of explanation , an extremely large file will not be transferred all at once . You'd have to actually open a stream representing that chunk of POST data and read from it for the entire thing to be transfered . On the other hand , if you're worried about denial-of-service attacks , then you can't really trust the Content-Length header , because it can easily be forged . In this case , you should set a limit and stream a transfer of this file , stopping as soon as you've exceeded that limit .
Suggest you reconsider the Flash decision and take a look at the YUI Uploader , here : http://developer.yahoo.com/yui/uploader Among other things , the fileSelect event will tell you the size of the selected file in bytes immediately after it is selected but before it's uploaded , so you'll be able to restrict accordingly .
With JSP or PHP you won't be able to restrict the file size because your page won't get the request until the upload has already happened . At that point you can decide not to save the file but that might be too late . There are some Java solutions out there , e.g. MyUploader or Hermes . Some even support multiple file uploads and resuming partial uploads , and some also give you the source code . You can also write your own , but it will need to be a signed applet in order to function because it needs to access
the local filesystem . If you're using Apache as your webserver you'll need enough RAM in your machine to fit the whole file size in memory of all files being uploaded at a given time .
How do I call Java code from JavaScript code in Wicket ?
If I can do this , how do I call Java code ( methods for instance ) from within JavaScript code , in Wicket .
Assuming you mean JavaScript running on the client - you cause an HTTP redirect to be made to the server , and have your servlet react to the request for the given URL . This is known as Ajax , and there are a number of libraries that help you do it ..
http://www.wicket-library.com/wicket-examples-6.0.x/index.html has plenty of examples to get you going . Or have a Have a look at DWR http://directwebremoting.org DWR allows Javascript in a browser to interact with Java on a server and helps you manipulate web pages with the results . As Dorward mentioned this is done via AJAX
Broken link http://wicketstuff.org/wicket13/ajax /
erk . The correct answer would be ajax call backs . You can either manually code the js to hook into the wicket js , or you can setup the callbacks from wicket components in java . For example , from AjaxLazyLoadPanel : This example shows how to add call back code to any Component in Wicket . After the OnDomReady event fires in your browser , when loading a page , Wicket will cause it's js enging , to call back into your code , using Ajax , to the ' respond ' method shown above , at which point you can execute Java code on the server , and potentially add components to the ajax target to be re-rendered . To do it manually , from js , you can hook into wicket's system by printing out getCallbackScript() . toString() to a attribute on a wicket component , which you'll then be able to access from js . Calling this url from js manually with wicket's wicketAjaxGet from wicket- ajax.js . Check out the mailing list for lot's of conversation on this topic : http://www.nabble.com/Wicket-and-javascript-ts24336438.html#a24336438
the last link does not work
Excerpt from https://cwiki.apache.org/WICKET/calling-wicket-from-javascript.html If you add any class that extends AbstractDefaultAjaxBehavior to your page , wicket- ajax.js will be added to the header ofyour web page . wicket- ajax.js provides you with two basic methods to call your component : and Here is an example : JavaScript $url$ is obtained from the method abstractDefaultAjaxBehavior.getCallbackUrl() . If you paste the String returned from that method into your browser , you'll invoke the respond method , the same applies for the javascript method . You can optionally add arguments by appending these to the URL string . They take the form foo =b ar . you get the optional arguments in the Java response method like this : or this :
Worth mentioning that the API for extracting parameters has changed in Wicket 1.5 . Having called ` RequestCycle.get() . getRequest() ` to obtain a ` Request ` object , you must now call ` getQueryParameters() ` ( for GET params ) , ` getPostParameters() ` ( for POST params ) , or ` getRequestParameters() ` ( for all at once ) . Each returns an ` IRequestParameters ` instance that you can query for parameters . See [ the API docs] ( http://wicket.apache.org/apidocs/1.5/) .
Oh , and a gotcha : the URL returned by ` getCallbackUrl() ` can change during the component construction cycle . It's often inaccurate if you try to use it in the constructor , and callbacks will fail as a result . I've had success using it in an override of the component's ` onBeforeRender() ` instead .
Testing onbeforeunload events from Selenium
I'm trying to write a Selenium test for a web page that uses an onbeforeunload event to prompt the user before leaving . Selenium doesn't seem to recognize the confirmation dialog that comes up , or to provide a way to hit OK or Cancel . Is there any way to do this ? I'm using the Java Selenium driver , if that's relevant .
Warning : this gives an alternate solution Watij -- http://watij.com -- can help here . Or if you're comfortable with ruby , watir can help -- http://wtr.rubyforge.org/install.html
You could write a user extension ( or just some JavaScript in a storeEval etc ) that tests that window.onbeforeunload is set , and then replaces it with null before continuing on from the page . Ugly , but ought to get you off the page .
I didn't end up doing this ( my requirements changed such that I was better off using a regular alert anyway ) , but this looks like it would do the trick , and is close to how Selenium handles testing for other alerts .
it was just a matter of adding ` js_eval	C
" window.onbeforeunload =null "` before an open for me . ( selenium-client in Ruby , but you should be able to easily translate to other languages )
When I was confronted with limited control which I had over browser using Selenium , I turned to MozLab plugin which solved my problem if only for one browser platform .
I've just had to do this for an application of mine where the onbeforeunload handler brings up a prompt if a user leaves a page while a document is in an unsaved state . Python code : The Java equivalent would be : If the alert does not exist , the code above will fail with a NoAlertPresentException so there is no need for a separate test to check the existence before accepting the prompt . I'm running Selenium 2.43 . 0 but I think this has been doable for a while now . In cases where I don't want the prompt to come up at all because that's not what I'm testing , I run custom JavaScript in the browser to set window.onbeforeunload to null before leaving the page . I put this in the test teardown code .
Calling JS from Applet : MalformedURLException : unknown protocol : javascript
I read that you could call JavaScript code from a Java Applet by calling However , when I do this i get the following error : How do I work around this ?
Works !! Maybe the browser does not have javascript enabled .. just a guess
I get the same exception as you do because of that the URL class does not accept javascript : as a valid protocol . There is a workaround though ; supply an URLStreamHandler to the URL constructor . Example :
This opens a new tab in Firefox , but the page and location address are both empty . Nothing happens .. :/
Nevermind , apparently my Firefox 3.0 . 3 on Ubuntu is bugged :) It works perfectly on other computers . Thanks !
Spreadsheet-like control for a web application ?
I've been in a team that has built this using a . NET + jQuery setup - it's not fun , and makes your mind MELT . If you have the option of using a silverlight grid I'd take that option over javascript .
This question was already asked a couple of times . Check this out : http://stackoverflow.com/questions/58289/excel-like-server-side-control-for-aspnet#58295 but there are more .
I'd say this comes down to data grids . For Javascript frameworks : Jquery has ' plugins ' like this . Serverside : Telerik has asp.net controls like this . It really comes down to what platform mix you want to use . Also , why do you want to bind an asp.net page to IE instead of Firefox ? For a web application , my recommendation would be a mix of asp.net mvc and jquery . JQuery is in my view the best and most stable JavaScript framework out there . The problem is that asp.net mvc is still in ctp phase and it's probably not ' supported ' and ' stable ' enough in some eyes . I already finished a mid-scale commercial web app based on the mixture and was pleased with it .
I would consider a solution based on google docs / apps or similar and background web services .
Check out SpreadsheetGear , as is a . Net component that will allow you to read / write Excel files and execute macros . You can preserve the logic of the spreadsheets and use them to power you web site . For a front end you may want to check out Telerik as people have created a spreadsheet like interface with the Telerik grid control .
Check out ZK Spreadsheet its cool .
It sounds like EASA might meet your needs . It's a codeless app development tool in use at companies like Zurich , GE , HP . You may like to have a look at http://www.easasoftware.com/spreadsheets . Hope this helps .
Here you can download GelSheet an opensource web based spreadsheet . It is written on PHP / MySql / Javascript You can contact the developers at sourceforege project page for any customizations It's the best solution I found and I'm using it as a part of a personal project .
Scripting in Java
Me and some friends are writing a MORPG in Java , and we would like to use a scripting language to , eg . to create quests . We have non experience with scripting in Java . We have used Python , but we are very inexperienced with it . One of us also have used Javascript . What scripting language should we use ? What scripting language should we not use ?
How about Jython ? http://www.jython.org/Project /
I agree with Viktor's Jython suggestion . Other than that and JavaScript ( which you've mentioned , and is built into Java 6+ via the javax.script package ) , Groovy and JRuby are also worth looking at too . By the way , you should look at Wyvern , also an MMORPG written in Java and using Jython for scripting . Steve Yegge , its author , has much to say about it from time to time . :-)
Java supports a variety of ( scripting ) languages , some are listed in Wikipedia here and here . You probably should choose language with powerful DSL and metaprogramming capabilities , such as Clojure . But if you need something simpler , JavaScript might be a viable alternative .
See Java : Scripting language ( macro ) to embed into a Java desktop application
You have quite a few options : Groovy - http://groovy.codehaus.org Jython - http://www.jython.org/Project JRuby - http://jruby.codehaus.org Possibly even BeanShell ( http://www.beanshell.org ) I'm a fan of Python myself so I'd recommend Jython , but they're probably all reasonable options .
what about creating your own specialized scripting language ? If your app is written with java , you can use ANTLR ( http://www.antlr.org ) to create your language parsing code . The reason I say this is because a general purpose scripting language may provide too much power ( because the script it to be used for quests only i assume ) . But if making your own language is too hard then any of the above suggestions works - you just have to figure out how to bind the game's runtime into the script . I also suggest Lua ( http://www.lua.org ) as another choice that lots of games use .
I am a big fan of Python / Jython due to the clean syntax - which may suit you if you have some python experience . Otherwise Groovy which is based on Java syntax and may be an easier learning curve if most of your developers are Java guys . It also has the advantage of closer ties with the Java language and libraries . Beanshell is good if you have simple scripting in mind - it doesn't support classes . However I don't think it has had any support over the last few years ( the JSR seemed to kill it off ... ) so is perhaps a bad choice if support is important to you .
I would have to recommend Javascript for this purpose . Mozilla Rhino http://www.mozilla.org/rhino is an excellent implementation that would fit your needs perfectly . I recommend Javascript over Jython or JRuby because of familiarity . Trivial Javascript follows a very familiar syntax that anybody can use . However if someone wants to do something more intense , Javascript is a very powerful functional programming language . I regularly use Groovy and Ruby professionally and believe that their purpose is best for writing parts of applications with particularly complex logic where Java is cumbersome to write . Javascript is a much better choice as an embedded , general scripting language to use in a game . I haven't used Python , but it's syntactically similar to Ruby and I would believe it's purpose would also be similar .
If you were to start from scratch in 2012 would you approach the " glue components together " differently ?
There is one good reason for including a scripting language , namely where you need to be able to add new functionality ( which hence cannot be configured ) without redeployment .
But Java has support for ( re- ) loading classes , and using some thought and reflection will take you a long way . If necessary .
You still need to compile the revised Java classes .
Compiling should an be infinitesimal issue compared to incorporating a scripting language , in all the ways I can think of .
LuaJ seems to be a nice way to embed Lua into Java : http://sourceforge.net/projects/luaj /
Wicket + Javascript
I'm wrapping up a Javascript widget in a Wicket component . I want to let the JS side talk to the component . What I've got so far : Component in question goes like in constructor and then , later on , puts something like into the JS . where GridAjaxBehavior extends AbstractDefaultAjaxBehavior . I want GridAjaxBehavior to spit back some XML when the JS calls it . Am I doing this the right way ? What should GridAjaxBehaviour do to spit back the XML ? Thanks
FYI , there's an error in your javascript emit . You're missing the right hand paren and semicolon , but you're also missing quotes around the supplied string . ... new talker ( "" + this.talker.getCallbackURL() + " ") ; " ; or something like that .
PSA : Wicket ~= a Java Framework . http://wicket.apache.org/introduction.html
please show a link to GridAjaxBehavior - i know wicket a bit , but GridAjaxBehavior is new to me . is this a custom developed behavior
I don't really know what Wicket is or what it does , but there is a minor bug in your code ( as it appears ) . This : " var MyGridTalker = new talker ( " + this.talker.getCallbackUrl() ; You seem to be missing your end parens : " var MyGridTalker = new talker ( " + this.talker.getCallbackUrl() + ")" ; Anyway , not a big deal , but didn't know if it was intentional .
Write a Servlet that Talks to JMS ( ActiveMQ ) and OnMessage Update the Site
I am building a site that uses a simple AJAX Servlet to talk JMS ( ActiveMQ ) and when a message arrives from the topic to update the site . I have Javascript that creates an XMLHttpRequest for data . The Servlet processes the Get Request and sends back JSON . However I have no idea how to connect my Servlet into my ActiveMQ Message Broker . It just sends back dummy data right now . I am thinking the Servelt should implement the messagelistener . Then onMessage send data to the JavaScript page . But I'm not sure how to do this .
You probably need to get a JMS connection from JNDI , like this :
Okay ... this is a good way to connect to my Topic , thanks . I already have code like this is another Java Client . But I want the Servelt to implement the messagelistener . Then onMessage send data to the Javascript page .
The problem with having a servlet implement MessageListener is that servlets are synchronous and MessageListeners are asynchronous . Instead you should create some other object to act as the MessageListener and update some state somewhere ( possibly a database or a JMX MBean or a Stateful Session EJB ) when messages come in . Then the servlet can query that state to see if there's data to report back to the client , and your web page can periodically ping the servlet to ask for fresh data .
Thanks jodonnell .. I have never wrote a JMX MBean or Stateful Session EJB but after a quick google search I think this is the right path to look down . Thanks for the help .
Have you tried reading the answers for this question which links to the ActiveMQ Ajax support . Basically ActiveMQ has native support for Ajax so you can use its JavaScript library to directly subscribe from an ActiveMQ topic . Also see the ActiveMQ web samples which show how to do things like real time chat or real time stock portfolio screens using Ajax with ActiveMQ
As James Strachan says - http://activemq.apache.org/ajax.html is an ideal out-of-the-box solution for your problem . If you still want to create such solution manually you can just create JMS connection in your Ajax servlet ( connection per request ) . Consider using Spring JMS template for that reason ( http://static.springsource.org/spring/docs/2.5.x/reference/jms.html ) . Then just receive the message in the Servlet doGet / doPost method . Consider low timeout value for receiving in that case . Such solution will work for the Queues and durable Topics . For non-durable Topics consider external message listener . Spring MessageListenerContainer is an excellent tool for that purpose : Bean lastTenUpdatesCache will be a singleton bean implementing MesssageListener . This bean would be responsible for caching last ten messages ( just putting it into a java.util list ) . It will be injected into your Ajax servlet so in your doGet / doPost method you can ask it about last 10 messages sent to the topic .
Integration of JavaScript and JMS
Where can I find a guide for integrating JavaScript and JMS ( Java Messaging Service ) ? I would like a best practice or established technology that allows me to directly or indirectly receive messages from a topic and update a site based on the message . I was thinking of creating two components , a servlet for the Web module , and an MDB ( Message-Driven Bean ) for the EJB module . The web client will comsume messages from the JMS topic , and the MDB will handle the onMessage . Does this sound correct ? Have you seen any examples ? Edit : I am using ActiveMQ for the JMS .
I would try using DWR to integrate JavaScript with your Java app . It makes Java to JavaScript communication transparent and only requires one servlet + configuration of what to expose . I haven t done this with JMS , but it should work the same . There are three technologies that together solve all my integration problems , Spring , Mule , and DWR .
I'll second DWR - excellent ( and painless ! ) to integrate any server-side based Java and JavaScript on the client front-end
You'll find some references to the Dojo / Bayeux approach here http://www.pathf.com/blogs/2006/08/bayeux_a_json_p If you're using WebSphere 6.0 or higher then the Web 2.0 Feature Pack includes an implementation .
I think this is your answer . Looks like it is baked in to ActieMQ . I tried the examples and they seem to work . http://activemq.apache.org/ajax.html
I was able to get the examples to work on Version 5.0 of ActiveMQ . However they have trouble running in 5.1 . Which version of ActiveMQ are you running ?
We did have a lot of problems with this servlet , and we did abandon it completely ...
The Seam framework supports subscription to JMS topics from a JavaScript based client : http://docs.jboss.com/seam/2.0.2.GA/reference/en-US/html/remoting.html#d0e14169
How to conduct blackbox testing on an AJAX application ?
What's the best , crossplatform way to perform blackbox tests on AJAX web applications ? Ideally , the solution should have the following attributes : Able to integrate into a continuous integration build loop Cross platform so I you can run it on Windows laptops and Linux continuous integration servers Easy way to script the interactions Free-as-in-freedom so you can adapt it into your tool chain if necessary I've looked into HttpUnit but I'm not conviced it can handle AJAX-heavy websites .
Selenium might be what you're looking for : http://selenium.openqa.org It allows you to script actions and evaluate the results . It's open-source ( Apache 2.0 ) , cross platform , and has nice tools .
I have used Selenium for exactly this task , but found it to be brittle . Check out this talk by two Googlers : Does my button look big in this ? Building testable AJAX applications They isolate the testable javascript ( non DOM-interaction ) and test that using the Rhino javascript engine .
What is the best way to use Ext JS as part of Java / Spring / Hibernate based web application ?
We want to try Ext JS on new project . Is there any well-known best practice for integrating Ext JS with server side Java ( Spring / Hibernate / JS ) application ? Is DWR a good choice for that ?
It's perfectly fine to build your application using Ext JS / DWR / Spring / Hibernate .
Yes it's possible . I've done the same thing with . NET : UI in ext-JS which communicates with the server trough JSON . In . NET world you can use DataContractSerializer ( class from WCF ) or JavascriptSerializer ( ASP.NET ) I'm sure that there's several good JSON Serializer in the Java world too . I used Jabsorb ( but not enough to give you a solid feedback ) . It appears that other people have tried : [ link text][2 ] [ 2 ]: http://extjs.com/forum/showthread.php?t=30759 forum ext-js
In our application we subclass Ext.data.DataProxy like this : You use it with a store like so : Our actual proxy class has some additional debug and error handling code that I left out for simplicity . You may also need to manipulate your data slightly so that the Ext.data.JsonReader can handle it , but that's the basic idea . SomeService is the JavaScript name you specified for whatever bean you exposed in dwr.xml ( or your Spring config ) .
My team has been using Ext with DWR for almost year a year , and have had nothing but good things to say . If you take this approach , you will end up using DWR's generated JavaScript classes for making your requests to the server . This will often be done in place of using the Ext.Ajax and Ext.data.Connection classes . When you use a class that require an Ext.data.Store ( e.g. grip , combo box , etc . ) and you want to fetch data from the server , you will need to use a proxy that can link in with DWR . The user-community provided Ext.ux.data.DWRProxy has worked flawlessly for us : http://extjs.com/forum/showthread.php?t=23884 .
Just wanted to report that we are doing this now and it works quite good . We also are using DWRProxy just like suggested .
Take a look at Grails , it plays well together with ExtJS .
How can you run Javascript using Rhino for Java in a sandbox ?
Part of our java application needs to run javascript that is written by non-developers . These non-developers are using javascript for data formatting . ( Simple logic and string concatenation mostly ) . My question is how can I setup the execution of these scripts to make sure scripting errors don't have a major negative impact on the rest of the application . Need to guard against infinite loops Guard against spawning new threads . Limit access to services and environment File system ( Example : If a disgruntled script writer decided to delete files ) Database ( Same thing delete database records ) Basically I need to setup the javascript scope to only include exactly what they need and no more .
Do you mean to say ( Javascript using Rhino ) for ( Java in a sandbox ) , or ( Javascript using ( Rhino for Java )) ( in a sandbox ) ?
Javascript is single-threaded and can't access the filesystem , so I don't think you have to worry about those . I'm not sure if there's a way to set a timeout to guard against infinite loops , but you could always spawn a ( Java ) thread that executes the script , and then kill the thread after so much time .
Rhino has a threading library available to it ( java.lang.Thread ! ) , and can access the file system .
To guard against infinite loops , you'd need to put it in a separate process so that it could be killed . To guard against creating threads , you'd need to extend SecurityManager ( the default implementation allows untrusted code to access non-root thread groups ) . Java security does allow you to prevent access to the file system . For database restrictions , you might be able to use the standard SQL user security , but that is quite weak . Otherwise , you need to provide an API that enforces your restrictions . Edit : I should point out that the version of Rhino provided with JDK6 has had security work done on it , but doesn't include the compiler .
To guard against infinite loops , you can observe the instruction count as the script runs ( this works only with interpreted scripts , not with compiled ones ) . There is this example in the Rhino JavaDocs to prevent a script from running for more than ten seconds :
To block Java class and method access have a look at ... http://codeutopia.net/blog/2009/01/02/sandboxing-rhino-in-java /
I just ran across this blog post that seems to be useful for sandboxing more or less anything ( not just Rhino ): http://calumleslie.blogspot.com/2008/06/simple-jvm-sandboxing.html
How to Cross-Compile Java Source Code to JavaScript ?
Given a set of Java source code files , how can I compile them into one or more JavaScript files that can be used with hand-crafted JavaScript ? GWT is one option , but every example I've seen so far is aimed at building fancy websites . The simple use case of just converting Java source to Javascript that can be used together with handcrafted JavaScript hasn't been well-documented . I started a thread on the GWT mailing list on this subject , but opinions seem to be mixed on whether this is even feasible . One person gave a very useful tip , which was to check out GWT-Exporter . The problem is that neither source code nor documentation is readily available , although there's this and this . edit : GWT-Exporter source code is here I've also seen Java2Script . But again , I wasn't able to find examples of how to solve my simple use case . What's the best approach to this problem ? Is there something better I'm missing ?
This question discusses a very similar topic : compiling Java libraries to JavaScript using GWT . http://stackoverflow.com/questions/3125556/gwt-to-create-utility-javascript-library
Very thorough question . You did a great job expressing what you'd explored already . Nicely done .
You can try using Scala-js https://github.com/lampepfl/scala-js for your java project - java / scala interoperability http://www.scala-lang.org/old/faq/4 )
When you use GWT , you're basically converting the UI portion into Javascript ( and it assumes that you use the UI widgets provided when you write your Java ) . Only some of the Java libraries are accessible within Javascript . Typically in a GWT application anything that makes heavy use of Java libraries would run on the server side and connect to the Javascript as AJAX ( which GWT handles for you ) . So GWT isn't necessarily converting your full application into Javascript ( though it can if you're willing to limit your use of Java libraries and some functionality ) . At any rate , if this approach ( calling out to Java running on a server from within Javascript ) appeals to you , one nice option is DWR , which basically allows your Javascript to directly call methods in Java classes running on the server ( without you having to build a web service or other frontend ) . Not what you asked , I know . More relevantly , it looks like there's source code for a sample app demonstrating the use of gwt-exporter .
This would be for a fairly small , non-gui java library . I hadn't seen DWR , which looks like it could be very useful for larger projects . I Didn't even see the source directory for the gwt-exporter project - thanks for pointing it out . That looks promising .
gwt-exporter link is dead
Here's a new link to the sample app : http://code.google.com/p/gwt-exporter/source/browse/trunk/samples/src/main/java/exporterdemo/public/ExporterDemo.html
The new link is also dead . :/
And here's a new link : https://code.google.com/p/gwt-exporter/source/browse/samples/exporterdemo/src/main/java/exporterdemo/public/ExporterDemo.html
Also , here's a link to the project home of gwt-exporter -- that's less likely to change ( the sample app changes location when they change their directory format ): https://code.google.com/p/gwt-exporter /
Also you can use QWT It has Java2JavaScript compiler on the board .
java and javascript callbacks compared
It seems I don't understand javascript callbacks quite as well as I thought . In the following example , I would think that each copy of function in setTimeout would refer to its own copy of the variable " index " . Therefore , running the example should produce the following alerts : " zero " " one " " two " . However , it seems that theres only one copy of the index variable , and all copies of the callback function point to the same variable , giving me the following alerts : " two " " two " " two " . The following analagous ( I thought ) example in java prints " zero " " one " " two " , as expected . Can anyone explain to me why the js example doesn't work , and perhaps compare what's going on in the two examples ?
Have you seen : http://stackoverflow.com/questions/442985/how-can-one-de-reference-javascript-variables-when-enclosing-an-outer-scope
Prestaul , thank , that's pretty much my same question . I looked for similar questions before I posted but didn't find this one .
I asked [ an almost identical][1 ] question yesterday and got a couple of different variations in the answers and some discussion on the merits of each . Might be worth a look [ 1 ]: http://stackoverflow.com/questions/442985/how-can-one-de-reference-javascript-variables-when-enclosing-an-outer-scope
index changes with each iteration of the loop . What you want is to place index into a closure not affected by the loop :
Thanks . I guess I thought that each iteration of the for loop would create a closure .
Well yes , technically I left that part out . There * is * a closure around index . But it is declared in an outer scope to the function passed to setTimeout . " closure " ! = " unchanging variable " .
Cool . One more question : why does the function declaration need to be wrapped in parens ?
@morgancodes : that's just convention ; also , there might be some cases where the parser might otherwise produce incorrect results
Firefox tells me there's a syntax error if I leave them out .
closures in javascript ( references to variables outside the function ) retain their association ... if you refer to a loop variable in a function called after the loop ends , in the function call you get the value of that variable after the loop .
the function call / parens / etc create a copy of the value " i " into the variable " index " , at the time of each iteration of the loop .
In javascript the for loop does not have it's own scope - so a var you create inside a loop is not different from one defined outside of it .
Private Members In JavaScript is my favorite reference on closures . It is written as a recipe for providing private variables in JS objects ( maybe useful , maybe not ) but in the process goes through an excellent introduction of how closures work in general , and especially in JS . The comp.lang.javascript FAQ has a worthwhile section on closures as well . Closures can be confusing so I put together a working example of the shortest useful closure I've come across , which was in the Rhino book . Oh and I don't have enough rep to comment yet :) but I saw your question above about why you have to put parenthesis around functions sometimes . That's only necessary when you invoke an anonymous function inline . For example the parenthesis are required here : Because you are creating a function and then immediately invoking it . But the parens are not necessary in the usual case where you are just declaring a named function for later use .
Thanks Noah . that rhino book example is cool .
String length differs from Javascript to Java code
I've got a JSP page with a piece of Javascript validation code which limits to a certain amount of characters on submit . I'm using a textarea so I can't simply use a length attribute like in a input type= " text " . I use document.getElementById ( " text ") . value.length to get the string length . I'm running Firefox 3.0 on Windows ( but I've tested this behavior with IE 6 also ) . The form gets submitted to a J2EE servlet . In my Java servlet the string length of the parameter is larger than 2000 ! I've noticed that this can easily be reproduced by adding carriage returns in the textarea . I've used Firebug to assert the length of the textare and it really is 2000 characters long . On the Java side though , the carriage returns get converted to UNIX style ( rn , instead of n ) , thus the string length differs ! Am I missing something obvious here or what ? If not , how would you reliably ( cross-platform / browser ) make sure that the textarea is limited .
@Fran ois : Always enclose things in tag brackets in back-ticks ( e.g. format them as code ) , or they will be stripped out on display of your question .
just stumbled across such situation . your topic made my day , sir ! thanks a lot !
Do you particularly care which line-endings are used ? Why not just make the Java convert " rn " to " n " ? ( Note that " rn " is the Windows style ; " n " is the Unix style . ) Alternatively , do the reverse when checking the length within the JavaScript .
OK . I get it . I guess that means that Javascript always represents carriage returns the UNIX way internally and through its APIs ( i.e. ` length() `) . Somehow I gets converted to ` rn ` because the Java VM is running on Windows . I wish it was more uniform ...
+1 , normalizing sounds good here
I don't know what rules different browsers on servlet engines will apply , but normalization should remove the differences either way . Btw , it's worth trying on macs too , where r is the normal linebreak .
+1 Just remove all " r " and everybody will be happy , whatever platform you are using . Macs included .
Are you limiting it to 2000 chars so it fits inside an nvarchar ( 2000 ) column in a database ? Otherwise maybe just allow a 2% overrun to be flexible on the Java side . And Java should be using Unicode UTF16 to represent Strings . That / r must have got in there somewhere else , maybe a conversion in the web browser when submitting ? Have you tried different browsers ? On different platforms ? You might just have to strip out the / r s .
This isn't really a JavaScript ( or Java ) problem - both layers report an accurate length for the string they are dealing with . The problem in your case is that the string gets transformed during the HTTP transmission . If you absolutely must ensure that the string doesn't exceed a certain length , you can mimic this transformation on the client by replacing every instance of " n " with " nr " - but only for length verification purposes :
Note : The code should be ` textarea.value.replace (/ n / g , " nr ") . length ` to find all occurrences . The original code only looks for the first match .
Thanks . Fixed it .
It should be `" rn "` , not `" nr "` .
To remember that the right order is ` rn ` , remember ` r ` stands for Carriage ? eturn ( ` Cr `) and ` n ` stands for ( ? ew ) Line Feed ( ` Lf `) in ` CrLf ` .
I think you need to do the line ending conversion / check on both client and server because you don't know what line endings the client browser is going to use ( Firefox submits n even on Windows ) and if you develop server side on Windows and deploy on Linux then the line endings will be handled differently .
Lobo Cobra HtmlPanel does not update GUI after JavaScript action
HI , I started implementing a HTML Browser in Swing . I want to use the Lobo Cobra toolkit because this toolkit inclused a renderer and parser for CSS and JavaScript . The pages are looking very nice and it is easy to use ( one class implementation to show a html page ) . I want to show HTML pages in swing which can show javascript generated and modified objects , like a flashing circle . As far as i know , the cobra toolkit can show static javascript commands like ' document.write ' or closwWindow() implementations , but not updating the GUI from a JavaScript . Did someone works with Lobo Cobra Toolkit before and give me some sample code or tips for showing HTML pages with animated JavaScript objects inside .
I'm under the impression that , as long as you set yourself up for notifications , your code will be called for all changes to the DOM whether done on page load or dynamically by Javascript following the page load . I would initially set up an object ( X ) implementing the DocumentNotificationListener interface and log a message for every method called . Then set that up as a listener with Y.addDocumentNotificationListener ( X ) [ where Y is your HTMLDocumentImpl object ] and load up your page to see which methods are actually called . Worst case is that you'll have to re-render your HTML page on every method call , but you should be able to optimize most of them . For example , changing colors of a node ( DOM object ) , which results in the X.lookInvalidated ( ... ) being called , wouldn't require re-rendering of the whole page as the node size doesn't change .
Returning JSON in GWT
I'm still pretty new to JSON and GWT and I'm trying to figure out how to pass JSON data back from a page into my GWT app . I pass the JSON back to a class : It's pretty basic and not complete at this moment so I'm just trying ( for now ) to make sure I can get something back . The code to call this is : However I get an error : No source code is available for type XYZ.GetProductTree ; did you forget to inherit a required module ? I am importing the correct package for XYZ.GetProductTree on the call page . What am I missing ?
This error is from the compiler , complaining that it can't find that type in it's classpath . For the GWT compiler to find your classes they have to be and in your classpath , and they have to be referenced in a . gwt.xml module file as well . Can you post your package names and the contents of your . gwt.xml files ? My guess is that wherever you have put this class it's not visible to the GWT compiler .
I am so obtuse sometimes . I forgot about having to add the source path for my new package . I added this to a " data " package which I just created and didn't add the path to the XML . Thanks :)
Is it possible to obtain a web-browser's Java VM without using an applet ?
We have an ages old Java applet that we want to move forward to a newer version of Java ( 5 or 6 ) , however until today we've always supported people using Java VMs as far back as version 1.1 ( specifically for those still using the Microsoft VM ) As part of the upgrade , we'd like to be able to serve a web page to people using out-of-date VMs telling them which versions we now support and where they can download them from . Ideally we want to do this without having to serve a Java 1.1 applet first just to determine the JVM version . Answers to either of the following ( with code samples if possible ) would be appreciated : Question 1 : is it possible to determine the JVM in a script on the server using information from the HTTP headers ? Question 2 : is it possible to determine the information on the client using just JavaScript ?
Q1 : no Q2 : yes , but I don't know how portable that is : That outputs a table of all plugins , versions should be contained . I think you have to loop over all the plugins , check if ' java ' is contained in the name and then parse the version from description ...
Up-voted for the short , but sweet , answer to Q1 - that's what I thought . Unfortunately , Q2 doesn't appear to port as far as IE6 - mine's getting navigator.plugins.length as 0 :-(
A german website says it is supported in JavaScript 1.1 , Netscape 3.0 , Opera 5.12 , Firefox 1.0 , Konqueror 3.1 , Safari 1 and higher and ( exactly ) IE for Mac 5.0 :-( . Perhaps any of all these JS libs has something for that ...
There is a deployment toolkit for doing this sort of thing . Serving an applet shouldn't be too bad . It can either be a 1x1 pixel bug , or use your normal applet with a small 1.1 class that forwards the applet lifecycle methods if it can load your 1.5 code . Nobody should still be using 1.1 . It hasn't had security bugs fixed in it for years .
We actually already serve an applet to determine the VM as we have two versions , one of which works around bugs in MS JVM ( but doesn't work on Sun ) and one of which is the other way round . The powers that be think this approach is too clunky going forward , so I'm tasked with looking for another way .
Oh , and just because nobody * should * be using 1.1 , this does not mean none of our customers * are * using 1.1 , unfortunately :-(
This script seems to do the trick on all major browsers : http://www.pinlady.net/PluginDetect/JavaDetect.htm
Seems quite complex considering it might run an applet anyway for its " NOTF " approach ; we might as well just go straight to that option . Plus I'm not sure I want to run code written by someone who uses the idiom " Java142Installed = Java142Status == 1 ? true	C
: false	C
"
Well , I have to admit I didn't go beyond testing it actually worked .
I think the deployment toolkit might do what you want . Use the runApplet() function in deployJava to ensure that a minimum Java Runtime Environment is available on a client machine before launching the applet .
Looks like the deployment toolkit is the " proper " way forward , so I've accepted this answer as it included a link to the appropriate page ( sorry , tackline - I know you suggested the toolkit first , but them's the breaks ) . Meanwhile , we'll be using our tried-and-tested launch an applet approach !
Good choice for a lightweight checksum algorithm ?
So the whole TCP / IP checksum thing isn't working ... I'm thinking that anything corrupted in transit is going to get rejected at a much lower layer than the application level .
Yeah , this sounds like something usually left to the transport layer . Can you explain your scenario a little more ? Where is your data being sent and what specific causes of data corruption are you trying to guard against ?
@dtsazza - you mentioned in a comment below that this is for security ( malicious users ) . Can you elaborate ? Especially since this will probably run in a browser .
Use SHA-1 JS implementation . It's not as slow as you think ( Firefox 3.0 on Core 2 Duo 2.4 Ghz hashes over 100KB per second ) .
[ UPDATE 30 / 5 / 2013 : The link to the old JS CRC32 implementation died , so I've now linked to a different one . ] Google CRC32 : fast , and much lighter weight than MD5 et al . There is a Javascript implementation here .
Link now broken unfortunately .
@JamesWestgate : Thanks James , I've found a new one and linked to that . Incidentally the first JS version I found ( at http://noteslog.com/post/crc32-for-javascript/) actually reparses part of the string containing the table for each character processed , which will make it * much * slower than necessary .
Awesome ! Thanks :) Looking for something to checksum javascript functions for a browser based animation code generation tool .
CRC32 is not too hard to implement in any language , it is good enough to detect simple data corruption and when implemted in a good fashion , it is very fast . However you can also try Adler32 , which is almost equally good as CRC32 , but it's even easier to implement ( and about equally fast ) . Adler32 in the Wikipedia CRC32 JavaScript implementation sample Either of these two ( or maybe even both ) are available in Java right out of the box .
CRC32 , definitely was designed to be exactly what you describe .
A word of caution : the JavaScript in the link implements the algorithm with a table[256 ] of literal values . If you should modify even a single digit of that table , you will have a nasty bug that is very , very , hard to find ! I prefer implementations that generate the table on the 1st call .
I'll second @D .i.S's comment . Testability is a minus .
Javascript implementation of MD4 , MD5 and SHA1 . BSD license .
Are aware that both TCP and UDP ( and IP , and Ethernet , and ...	~
) already provide checksum protection to data in transit ? Unless you're doing something really weird , if you're seeing corruption , something is very wrong . I suggest starting with a memory tester . Also , you receive strong data integrity protection if you use SSL / TLS .
Yes , I am was aware of that , though you were right to point it out . Unfortunately it's in input coming from the world at large , so we need to be able to cope with this anyway ( malicious / mischevious users could mangle this for example ) .
It might be worth pointing out that for any change-detection algorithm , there is always a chance that it won't detect an error . They all can have collisions or false-negatives , though usually the more expensive algorithms reduce this chance to near-astronomically small probabilities .
@dtsazza : I wonder about the malicious / mischievous users who can mangle packets going across the network , but can't defeat Javascript . Or Adler32 .
Other people have mentioned CRC32 already , but here's a link to the W3C implementation of CRC-32 for PNG , as one of the few well-known , reputable sites with a reference CRC implementation . ( A few years back I tried to find a well-known site with a CRC algorithm or at least one that cited the source for its algorithm , was almost tearing my hair out until I found the PNG page . )
Here's a relatively simple one I've ' invented ' - there's no mathematical research behind it but it's extremely fast and works in practice . I've also included the Java equivalent that tests the algorithm and shows that there's less than 1 in 10,000,000 chance of failure ( it takes a minute or two to run ) . JavaScript Java
Why ? Would you like to share an example ?
This is a rather old thread but I suspect it is still viewed quite often so - if all you need is a short but reliable piece of code to generate a checksum the Adler32 bit algorithm has to be your choice . Here is the JavaScript code The corresponding fiddle demonsrating the algorithm in action is here .
Detect version of Java using JavaScript
Is there a reliable way of detecting what version of Java is installed on the client's machine using JavaScript ?
Check out the solution [ here] ( http://www.spiration.co.uk/post/1186/Java%20detect%20brower,%20JVM%20vendor,%20Java%20version%20etc) . Works like a charm ( at least on the local machine , yet I didn't test it on different environments ) .
Check out the code in the Java Deployment Toolkit .
In case someone comes across this again , note the toolkit has a major flaw : it returns the highest version of Java that is installed on the machine , not the highest version that is actually runnable ( in IE , at any rate ) . Specifically , if you have both a Sun JRE and MSJVM installed , the toolkit will report the Sun JRE version even if it's disabled and the browser will actually run MSJVM . Adam Bellaire's link below seems more reliable , albeit less " clean " because it requires running an actual applet .
Update : This link is now broken . It looks like Adam Bellaire's link is going to be the one to use .
Moreover , this method makes the MSIE gold security warning bar to be popped up under MSIE7 with Sun JDK before 1.6 . 0_2 ( with Middle-High security settings ) . See http://www.pinlady.net/PluginDetect for a version which does not raise security warnings ( and is maintained ) .
Googling for detect " java version " using javascript yields a couple of results , this one looks like it might be useful . In essence , it tries to load a Java applet and then JavaScript asks the applet .
Ironically , this page is now the first search result on Google for ` detect " java version " using javascript `
You can use the PluginDetect library from here : http://www.pinlady.net/PluginDetect /
If you use Google Analytics , this post might be helpful ( see the forum thread for more details ) .
According to the fact that we're finding this page with google , just to help the next guys finding this . Is Java installed ? http://www.w3schools.com/jsref/met_nav_javaenabled.asp Which version of Java is installed ? http://java.sun.com/javase/6/docs/technotes/guides/jweb/deployment_advice.html#deplToolkit It's the best way I found to find the version of Java with JavaScript , but use it carefully because its version detection is really os / browser dependent , and on old browser version or on recent browser with old Java installed , it'll not work as expected . Take the time to do real tests before to use it in production .
That does not give any information about the version ( which the question is about ) .
You're right , I didn't answer where I thought I was . Fixed my answer .
This is just a duplicate of [ Rich Apodaca's previous answer] ( http://stackoverflow.com/a/440227/157247) , and Dan's comment on it applies .
Yeah ... just make it more explicite for thoses who doesn't understand everything on the page he gave , or if ever the link dies ... or just to save some time to the next guys who find this page via Google . I didn't mean to steal one's good answer .
@T . J.Crowder Top 0.02 % user gets schooled by a first time answerer in Stack Overflow's philosophy of making the internet better . That's something you don't see every day .
@PatrickMcElhaney : The correct way to improve someone else's answer is to improve someone else's answer . ( And the answer as it was at the time of that comment was not the answer it is now . )
@T . J.Crowder I'm not sure sarlak had any options at his disposal at the time other than posting a new answer . He couldn't post a comment and probably couldn't suggest an edit either .
@PatrickMcElhaney : Right . And there's a reason for those restrictions on new users . But I'm not going to prolong the discussion . :-) Best ,
This doesn't work unless the j in deployJava is capitalized , just FYI .
The detection logic does not work in IE32 on Windows7-64 . It could not detect the java version it installed earlier . Well , after further reading , the Java Deployment Toolkit on Windows uses ActiveX classid which may pose your app to hackers ( see http://www.kb.cert.org/vuls/id/886582 ) . I am out .
Version of Java : Is Java and is Java enable : These functions works on Opera , Firefox , Chrome . I havn't IE .
JavaVersion does not work under MSIE since navigator.mimeTypes is always empty on this browser ( tested on MSIE7 )
I find that the JavaScript solution provided by the Java Deployment Toolkit gives an error ... " deployJava.do_initialize is not a function " . One solution that I have used extensively for many years that does work in all browsers is the Java Version Display Applet . Unfortunately the original author's site seems to have disappeared , but you can download a copy of the Java Version Display Applet here .
To use the Gears WorkerPool in GWT do I have to write the same code in Java and Javascript ?
I have never used Gears for GWT , but after reading your evidence , I believe you are correct in stating that the WorkerPool class can run only JavaScript files and not Java-compiled-to-JavaScript . Here is a quote from the GWT-Gears v1.1.1 WorkerPool API . WorkerPool module allows web applications to run JavaScript code in the background , without blocking the main page's script execution . Currently this class can only create worker threads out of raw JavaScript code . That is , user code cannot currently create worker bodies from Java code . The WorkerPool class manages the threads and communication , which is no small task .
How to access objects / arrays defined in JavaScript from Java applets
Using LiveConnect getMember ( String ) method of a window JSObject , a Java object of type " Object " is returned but I don't find the expected members defined on it . Neither can I cast it to a JSObject to continue using the getMember() . Accessing DOM nodes and elements ( DOM Objects ) works as expected .
It's rather unclear what exactly you're trying to do - how about showing us some sourcecode ?
When you say you can't cast , do you get a specific exception or error ?
@andynormancx Yes . That processing cannot cast from Object to JSObject .
@Michael Borgwardt This is what I'm trying to do . Global JavaScript Object . Processing code . This is perhaps not Processing specific . That's why I didn't originally post the code .
I'm confused by the line got2	C
= win.getMember	C
( " obj ") ; . It seems like you're expecting that line to get the foo object . As I understand it , win.getMember	C
( " obj ") will get you the obj property on the DOM window node , which doesn't exist . For example , from this page : If you want to get the foo object , the best way I'm aware of is to make a JavaScript method you can call from the Java applet . JavaScript : Applet :
MDC says that it's supposed to be a " JavaScript Object " . Whatever that means . https://developer.mozilla.org/en/Core_JavaScript_1.5_Reference/LiveConnect/JSObject
Yes , but I don't get why you expect it to get the " foo " object . " JavaScript object " just means it's a object from JavaScript that's been translated to a Java object , specifically JSObject .
Did that work for you ? Because it's giving me an exception .
It did . What's your exception ?
Exception in thread " Animation Thread " java.lang.NullPointerException at js_processing_api.draw ( js_processing_api.java : 34 ) at processing.core.PApplet.handleDraw ( PApplet.java : 1406 ) at processing.core.PApplet.run ( PApplet.java : 1311 ) at java.lang.Thread.run ( Thread.java : 619 )
Random guess : try clearing your classloader cache ? Bring up your Java console ( Tools - Java console in FF , or right click on the Java icon in your systray and pick the console ) , and hit x to clear it , then reload .
I did try that . It throws the error when I click on the applet .
I'm not sure I have any more suggestions for you , except to be pedantic - are you using the exact code I wrote above ? I can get the exception if I have getFoo return null , but my line number is 32 instead of 34 , so I suspect you have something else there as well .
It works now . Thanks .. I don't know what the error was but I copy pasted your code and viola it works . Thanks a ton .
There's another problem , how may I assign it the values I get to a variable . The type appears to be an Object and I can't cast it to float or string .
How to transfer java array to javaScript array using jsp ?
I have a list of strings on my server which I am trying to get to the client in the form of an array . The code I am attempting to use is the following : Within the jsp I have a List String column I am attempting the following code : This code simply returns the first element in the columns list for every element in the colArray . I have also tried : which does not work either . I feel like I am making a little mistake somewhere and am just not seeing it . Is what I am trying to do possible in the way that I am attempting ? Thanks .
You're getting the JSP code that is executed on the server mixed up with the JavaScript code that's executed on the client . The snippet %= columns.get ( j++ ) % is executed once , on the server , and the JavaScript loop around it is irrelevant at this point . When it arrives the the client , the loop's body just says colArray[i ] = " first entry " ; which of course puts the same string into every element of the array . What you need to do instead is to have a loop execute on the server , like this : My JSP skills are rusty , and the syntax may be different , but I hope you get the idea . Edit : As was pointed out in the comments , you need to be VERY careful about escaping anything in those Strings that could cause them to be interpreted as JavaScript code ( most prominently quotation marks ) - especially if they contain user-generated content . Otherwise you're leaving your app wide open to Cross-site scripting and Cross-site request forgery attacks .
This will not work if the strings contain characters such as double-quote , backslash or newline . Such characters will need to be escaped .
I'd also add a semicolon to the end of the second line .
Once the JavaScript reaches the client , the server code has stopped executing . The server code does not execute " in parallel " with the client code . You have to build the entire JavaScript initialization in Java and send it , complete and executable , to the client : That is just one way to do it , you can also build the output " on the fly " by embedding the server code inside the [ and ] . I used this example to try to demonstrate the separation between building the string that comprises the client-side JavaScript and outputting that to the browser .
Try using JSON ( Javascript object notation ) it'd be quite simple to encode the array and decode it on javascript check it out here http://www.json.org/java/index.html
Exp Language :
The solutions posted above didn't work in my case , I needed an extra Javascript variable to do the transference :
Java based Swing Browser should support JavaScript
In my company , I am implementing a java based html browser . I found a lot of tools to generate complete browsers only in Swing which are looking like Mozilla . But I was not able to find a browser which supports JavaScript . The browser I will implement should execute JavaScript inside the HTML sides . Do you know of a tool that supports this ? Or do you know of a parser which pairs the javascript to something I can use inside the html browser ? I know that the eclipse plugins can handle javascript , but I can not use AWT in my project . Thanks for your help .
You don't want to build this yourself . Fortunately , there are a number of open source javascript engines you might be able to adapt .
add the moment the html sides are shown by using C++ and a firefox plugin , but i should use the existing html sides which including javascript . I have no choice , i have to show html with javascript .
I'm not saying don't do it : I'm saying find someone else that's already done it and use that .
In my company , I am implementing a java based html browser . Good God , why ? That said , this page at java.net discusses some options ; you could search it more extensively .
I'd look at Lobo . It sounds like just want you want . It has a HTML Renderer and parser , and some support for Javascript . If it's missing a feature of Javascript that you need , it seems like it would easier to contribute to Lobo , instead of reinventing the wheel .
That sounds like a good solution . I will test this . Thanks
Will you please tell me that how to implement this ?
It will be available . I hope pretty soon . Its name is JWebPane and it is based on WebKit afaik . The interesting question is " When " Here's the link : http://weblogs.java.net/blog/ixmal/archive/2008/05/introducing_jwe.html
News today : http://weblogs.java.net/blog/alex2d/archive/2008/12/jwebpane_projec.html
How can I get stock quotes using Google Finance API ?
I'm looking for access to financial data from Google services . I found this URL that gets the stock data for Microsoft . What are all the possible parameters that Google allows for this kind of HTTP request ? I'd like to see all the different information that I could get .
How did you find that URL ?
You can easily get Google Finance data via YQL which is simple and REST based . An example can be found here : http://www.jarloo.com/google-finance-and-yql /
This is a great question , are there more answers that are up to date ?
@Timmyc - The ` client=ig ` parametet leads me to believe this is / was used for an iGoogle widget . Just a guess though .
Note that if your application is [ for public consumption , using the Google Finance API is against Google's terms of service] ( https://groups.google.com/d/msg/google-finance-apis/O8fjsgnamHE/-ZKSjif4yDIJ) . @timmyc : the ` ` parameter isn't necessary . http://finance.google.com/finance/info?q=NASDAQ%3aMSFT works .
There's a whole API for managing portfolios . * Link removed . Google no longer provides an developer API for this . Getting stock quotes is a little harder . I found one article where someone got stock quotes using Google Spreadsheets . Here is another example of that . You can also use the gadgets but I guess that's not what you're after . The API you mention is interesting but doesn't seem to be documented ( as far as I've been able to find anyway ) . Here is some information on historical prices , just for reference sake .
There is an undocumented API from google you can use to get stock info much easier as it's REST based and doesn't require authentication . Here is a C# example http://www.jarloo.com/google-stock-api /
Note : The Google Finance API has been officially deprecated as of May 26 , 2011 and will be shut down on October 20 , 2012 .
This answer is mostly off-topic . The answer below it is the correct one .
Perhaps of interest , the Google Finance API documentaton includes a section detailing how to access different parameters via JavaScript . I suppose the JavaScript API might be a wrapper to the JSON request you mention above ... perhaps you could check which HTTP requests are being sent .
no longer available
I found this site helpful . http://benjisimon.blogspot.com/2009/01/truly-simple-stock-api.html It links to an API yahoo seems to offer that is very simple and useful . For instance : http://finance.yahoo.com/d/quotes.csv?s=GOOG+AAPL f=snl1 Full details here : http://www.gummy-stuff.org/Yahoo-data.htm
Here is an example that you can use . Havent got Google Finance yet , but Here is the Yahoo Example . You will need the HTMLAgilityPack , Which is awesome . Happy Symbol Hunting . Call the procedure by using YahooStockRequest ( string Symbols ); Where Symbols = a comma-delimited string of symbols , or just one symbol
The Google Finance Gadget API has been officially deprecated since October 2012 , but as of April 2014 , it's still active : http://www.google.com/finance/info?q=NASDAQ:GOOG http://www.google.com/finance/info?q=CURRENCY:GBPUSD http://finance.google.com/finance/info?client=ig q=AAPL , YHOO You can also get charts : https://www.google.com/finance/getchart?q=YELP Note that if your application is for public consumption , using the Google Finance API is against Google's terms of service . Check google-finance-get-stock-quote-realtime for the complete code in python
This led me exactly to what I was looking for ! Thanks .
But I cannot get the volume traded through this URL , Can you help me out , if I need the volume details too
@DanDascalescu Thanks Dan . Looks like it was just down when I was checking it . Comment deleted .
Building upon the shoulders of giants...here's a one-liner I wrote to zap all of Google's current stock data into local Bash shell variables : Then you will have variables like $GF_last $GF_open $GF_volume etc . readily available . Run env or see inside / tmp / stockprice.tmp.log So for stock= " FBM " / tmp / stockprice.tmp.log ( and your environment ) will contain :
Can I use the URL for a Real Time stock quote ?
Mostly yes . Compare ` GF_trade_time_utc ` to the current time / date and you be the judge .
Thanks for your answer , but here the volume is not coming in the json , is there any other way or URL to get the volume traded ?
The problem with Yahoo and Google data is that it violates terms of service if you're using it for commercial use . When your site / app is still small it's not biggie , but as soon as you grow a little you start getting cease and desists from the exchanges . A licensed solution example is FinancialContent : http://www.financialcontent.com/json.php or Xignite
This is no longer an active API for google , you can try Xignite , although they charge : http://www.xignite.com
Do you have any experience using their services ? How much do they charge ?
The simplest way as you have explained is this link this is for ' Dow Jones Industrial Average ' Link 2 is for ' NASDAQ-100 ' and for all related to NASDAQ link 3 I think this should be it , else you want same in JSON notations the same as Microsoft Please refer this old post I think this will help , Update : To know the details of volume and other details , I have created a vbscript that is using IE object to fetch details from the link , and alerts the content in the particular id ( Create a . vbs file and run it .. this will alert the values from page like this I am sure this will help ..
Thanks a lot for your answer . But I need the realtime data in json along with the volume traded , is there any rest services ?
Please refer this for details on realtime , generally this links provide reatime data with some exception .. https://www.google.com/googlefinance/disclaimer/#realtime
Thanks once again bro , This one was really helpful , but still how can I get the volume information ?
Its if you are aware of VBA or VBS on the page ( https://www.google.com/finance?q=INDEXNASDAQ%3ANDX =NASDAQ =2 =B3UoUsiIH5DIlgPEsQE ) the element's id is ' market-data-div ' that div contains 2 more divs and the second div has the table that contains volume ` 759.30 M ` like this . If want more help please post some code of your work or fiddle will do .
No Sir , Dont have any idea of VBA or VBS , but will check this definitely , Can you provide me the URL , which results in the realtime stock quote along with volume information ?
I will create a fiddle for a with a js file which will alert you give me some time
Sure Sir , Thanks a lot and that will be of great help .. :-) god bless you
@SashiKant I have updated my answer , Please find the VBS code that works well on windows PC enjoy :)
Thanks a lot brother .. :-)
You are always welcome :) StackOverflow is there to help us all :)
Try with this : http://finance.google.com/finance/info?client=ig q=NASDAQ : GOOGL It will return you all available details about the mentioned stock . e.g. out put would look like below : // [ { " id " : " 694653 " , " t " : " GOOGL " , " e " : " NASDAQ " , " l " : " 528.08 " , " l_fix " : " 528.08 " , " l_cur " : " 528.08 " , " s " : " 0 " , " ltt " : " 4:00 PM EST " , " lt " : " Dec 5 , 4:00 PM EST " , " lt_dts " : " 2014-12-05T 16:00 : 14Z " , " c " : " - 14.50 " , " c_fix " : " - 14.50 " , " cp " : " - 2.67 " , " cp_fix " : " - 2.67 " , " ccol " : " chr " , " pcls_fix " : " 542.58 " } ] You can have your company stock symbol at the end of this URL to get its details :
Agree with Pareshkumar's answer . Now there is a python wrapper googlefinance for the url call . Install googlefinance It is easy to get current stock price : Google finance is a source that provides real-time stock data . There are also other APIs from yahoo , such as yahoo-finance , but they are delayed by 15min for NYSE and NASDAQ stocks .
How to resize a java applet when the browser is resized ?
I have a java applet that is embedded in html using the object-comment-embed method . I would like to resize the applet whenever the browser window is resized . I have found solutions around the internet , but they all work based on the deprecated applet tag . Also , when trying a setSize() call on my embed element in FireBug , it will resize the content of the applet , but not the applet viewport . That is , the area of the display that is given over to java does not change . Current code looks something like this :
does your resize function get called ? ( e.g. where is the error so far ? )
Try replacing these lines : with :
My vote is for this method . I've basically done this same thing to resize ActiveX controls . It should work the same for an Applet .
This worked ! I was doing the same thing , using setSize() . It was being called but the applet wasn't resizing . Thanks !
Why don't you use percentage width and height . I usually use the following code for my applets :
Netbeans intellisense for Yahoo utils
In netbeans I created an html page in which I am using Yahoo utils . If I type " yahoo . " then namespace , render , hide are not visible in the interactive documentation . Please tell me how to configure Netbeans to handle this .
I don't use Netbeans , but I do know that Javascript is case-senstive , and that the global Yahoo object is YAHOO , not yahoo . So try it in all caps .
Sending a value from javascript to jsp ( with jquery )
right now i have a jsp page that allows to sort some items , when is ready and a link is clicked a javascript function converts all the info into xml ( text in a variable ) , after this i need to send this xml to the jsp page again , i tried putting the info in a hidden input and submiting the form , sending with $ . post and a few more jquery functions but nothing worked . Any ideas ? in my JSP im reading the post like this : This doesnt work : This either : replacing . text with . html doesnt work Any ideas are welcome , thx
You could always use an XMLHttpRequest to send the data . This can be done with our without user interaction on an element such as a form submit button . jQuery has functionality built in for assisting with such requests . http://docs.jquery.com/Ajax
Suggesting another library is like creating a mess here . JQuery is as good as Prototype in making AJAX calls , if not better .
Trying using the jQuery Ajax API - you can use it to send arbitrary data via GET or POST and you don't need to set up a hidden form or anything .
Yes , we don't submit forms , like we traditionally do . A sound suggestion .
You're probably going the wrong way here . You didn't provide the html code , but I assume it is something like this : If that is correct , then you should say $ ( " #data ") . val ( xml ); instead of text() or html() as those change the matched thing with text or html you provide . This should work for your current solution . Also I'd propose to look at jQuery's $ . post() and others as an alternative to packing everything as xml unless this is really what you want on the backend . It could be easier to just make up a javascript object with all the values keyed by some names and pass it on to one of jQuery's $ . post() , $ . get() , etc . like this : Actually it only occured to me now that you can also send your xml this way ( unless you prefer your way of doing things ): You might want to enlighten yourself more here : Ajax @ jQuery docs
The Google Maps Wikipedia Layer
Is there a way to programmatically list all geo-tagged Wikipedia entries within a radius of a long / lat point ? I'm thinking this is possible with the google maps API but I am interested in any method . NOTE : I do not want to display a googlemap .
Yes , it's possible . The hard part is either : ( 1 ) Screen-scraping Wikipedia ( bad idea , unless you already have a ( small ) list of target pages ) ( 2 ) Downloading and parsing the massive Wikipedia data sets ( better idea ) Once you have lat / long coordinates , which I assume are in the wiki page's geotag format , you can use the great circle formula to compute relative distances , and bypass Google's API entirely . The moral of this story ? When you've dealing with datasets this massive , you're going to want to do as much of it offline as possible .
I've solved a slightly similar problem by using the GeoNames webservices . You can use the webservice to request cities and so on . There is a per-ip-limitation you may not exceed . I searched a little further and there's something interesting for you . The webservice is called findNearByWikipedia . It may be the thing you're searching for ...
Another option is using DbPedia SPARQL interface . For example , the following SPARQL query gets wikipedia articles within bounding box limited by coordinates . SPARQL libraries widely available , for example for SPARQL Endpoint interface to Python To test it , just paste the query below to this online query editor : http://dbpedia.org/sparql Gets the following result :
How to preview a file on the server in JBoss
I need some ideas on how I can best solve this problem . I have a JBoss Seam application running on JBoss 4.3 . 3 What a small portion of this application does is generate an html and a pdf document based on an Open Office template . The files that are generated I put inside / tmp on the filesystem . I have tried with System.getProperties ( " tmp.dir ") and some other options , and they always return $JBOSS_HOME	C
/ bin I would like to choose the path $JBOSS_HOME	C
/ $DEPLOY	C
/ myEAR.ear	C
/ myWAR.war	C
/ WhateverLocationHere However , I don't know how I can programatically choose path without giving an absolute path , or setting $JBOSS_HOME	C
and $DEPLOY	C
. Anybody know how I can do this ? The second question ; I want to easily preview these generated files . Either through JavaScript , or whatever is the easiest way . However , JavaScript cannot access the filesystem on the server , so I cannot open the file through JavaScript . Any easy solutions out there ?
Not sure I have a complete grasp of what you are trying to achieve , but I'll give it a try anyway : My assumption is that your final goal is to make some files ( PDF , HTML ) available to end users via a web application . In that case , why not have Apache serve those file to the end users , so you only need your JBOSS application to know the path of a directory that is mapped to an Apache virtual host . So basically , create a file and save it as / var / www / html / myappfiles / tempfile.pdf ( the folder your application knows ) , and then provide http://mydomain.com/myappfiles ( an Apache virtual host ) to your users . The rest will be done by the web server . You will have to set an environment variable or system property to let your application know where your folder resides (/ var / www / html / myappfiles in this example ) . Hopefully I was not way off :)
I'm not sure if this works in JBoss , given that you want a path inside a WAR archive , but you could try using ServletContext.getRealPath ( String ) . However , I personally would not want generated files to be inside my deployed application ; instead I would configure an external data directory somewhere like $JBOSS_HOME / server / default / data / myapp
I agree with Peter ( yo Pete ! ) . Put the directory outside of your WAR and setup an environment variable pointing to this . Have a read of this post by Jacob Orshalick about how to configure environment variables in Seam : As for previewing PDFs , have a look at how Google Docs handles previewing PDFs - it displays them as an image . To do this with Java check out the Sun PDF Renderer .
Not sure how you are generating your PDFs , but if possible , skip the disk IO all together , stash the PDF content in a byte [] and flush it out to the user in a servlet setting the mime type to application / pdf * that responds to a URL which is specified by a link in your client or dynamically set in a div by javascript . You're probably taking the memory hit anyways , and in addition to skipping the IO , you don't have to worry about deleting the tmp files when you're done with the preview . * I think this is right . Need to look it up .
I did something like this , and it worked great . Thanks
First , most platforms use java.io.tmpdir to set a temporary directory . Some servlet containers redefine this property to be something underneath their tree . Why do you care where the file gets written ? Second , I agree with Nicholas : After generating the PDF on the server side , you can generate a URL that , when clicked , sends the file to the browser . If you use MIME type application / pdf , the browser should do the right thing with it .
Is Google Web Toolkit useful to develop complex javascripts ?
Iam a great fan of javascript frameworks especially jQuery . I have always wanted to design sites like " plurk.com " but i know that it needs very huge lines of javascript.so that shut me off.But since i came to know GWT , i really want to test it out and want to ask you if it makes our job easier to develop complex things than with the javascript or its frameworks . Which one would you prefer ?
With GWT , you're not actually writing JavaScript ; it's entire value proposition is that you can write Java that it will compile down to JavaScript for you .
ya i know . but i just want to know , does that simplify the process of developing complex javascripts - very huge lines of javascript code ?
I guess if you trust that google will do it better than you would and you know your Java it * could * do - personally I'm against it , but it probably has niche value for someone
No . It doesn't . It doesn't remove the complexity , it just makes it possible for you to deal with it from a Java Perspective . Since that gives you all the Tooling available from Java ... that alone might make it worthwhile . JavaScript IDEs are getting better and better though , and typically if you're using a Framework like jQuery or Prototype , then you're probably going to find it easier than dealing with a heavy weight abstraction layer like GWT . My personal preference is to take the pure JavaScript approach , but that's because I like being able to work more closely to metal , and I'm disciplined enough to tame my JavaScript cats .
Yes , it does , since you'll be using Java and not Javascript . Superb IDEs , static code analysis , searching and refactoring - all this will make your life much easier on large projects .
Few things scare me like " generated Javascript " . The Law of Leaky Abstractions has got to be doubly true in these cases . Writing effective cross-browser javascript is a tricky process of continuous refinement . Trying to decipher where some generated , obscured Javascript is going wrong is a major headache . It's bad enough fixing bugs in the pure JS libraries . To me , GWT is a trick aimed at allowing backend developers to write front-end , in-browser code . Unfortunately , the realities of modern web apps mean you just have to know Javascript and the DOM . Something's going to break , and you're going to need to know why . I think you're better off picking a good javascript library like jquery or prototype , and learning that well . Those libraries abstract away the sort of stuff that SHOULD be abstracted away and is unlikely to break in edge cases , like array operations and AJAX requests .
Do you think the same way about generated Assembler ? Handling all those differences between different Processor architecures ? I am not saying , that GWT is necessarily there yet . But Generating one language out of another is nothing scary at all .
the problem is that since JS is a high-level language , there are several features you'd like to use . for example a hashtable . it's not exactly the same semantics as Java maps , so they write an emulation layer . therefore they're no longer usable as JS objects . same for other things ...
Another difference is that , besides being a much more mature technology , assembler is very highly tuned towards a single architecture . The same cannot be said of Javascript , which must support scores of different browsers and version .
not to mention that all modern cpu instruction sets are designed for the compiler , not for a human programmer ; just like bytecodes are designed with a specific language in mind .
I suspect you've never used GWT in a large scale project . It doesn't make cross browser stuff harder , it makes it easier . People worry about going through generated javascript , but the truth is you never have to , just like you never have to look at java byte code , because the compiler is top-notch .
disregarding whether compiled js is good or bad , gwt offers hosted mode debugging , and simple unit test integration , which is a must in large projects . However , there are some growing pains involved with gwt , but nothing too bad . GWT is more suitable for large scale ajax app vs medium scale ones .
Using GWT is really no different then using jQuery or Prototype . If there is a bug in the library you are using , it will make your life difficult . The same problems exist for GWT . The difference is that GWT has Google's developers backing it up , not just the few people behind the other libraries .
I'm working on a project that has used GWT to pretty good effect . It's a good choice for us since we're all primarily Java developers working on internal tools . I can't speak to how useful it is for large end-user sites . One advantage I particularly appreciate is the seamless object serialization and deserialization . Not only are the details of XML-RPC abstracted away , but since the same Java code is compiled to byte code for the server and javascript for the browser , you can code almost as if the server and client were running in separate class loaders in the same JVM . For instance , you can construct a Java object on the server , send it to the browser as the return value from an RPC service call and the browser code can then use the identical Java class to manipulate the object you just returned . Likewise , parameters to RPC calls can be constructed as Java objects , with the server receiving an identical Java object on the other end . All this without mucking about in the details of ( de ) serialization .
GWT doesnt actually use XML-RPC , but yea , the rest of the post is my sentiments exactly .
thanks a lot :) that was great .
What happened to Rhino ? Is it still under active development ?
The last release was in 2008-03-06 . What happened to it ? Is it still under active development ? Are there any replacements ?
This question might better be asked at the relevant newsgroup : mozilla.dev.tech.js -engine . Or by mail to one of the responsible developers as mentioned at the Mozilla site . However , if you found out please post the answer here . I'm interested too .
Slightly modified version of Rhino ( 1.6 r2 ) is part of Java 6 and on top of that from what I've tested Rhino is very much feature complete so there really isn't anything left to develop onwards , apparently it's also quite bug-free also . I'd say Rhino is one of those rare libraries which are actually done .
According to a post last week at http://groups.google.com/group/mozilla.dev.tech.js-engine.rhino/topics
JavaScript ( Rhino ) use library or include other scripts
In JDK6 , is there a way to load multiple scripts , each in a file , and have the one script reference a method of another script ? Sort of like " include " ?
As long as you use the same scope to execute each file , they will be able to reference functions and variables from previously executed files .
Big help , thanks
I think you're after the load() method / property of Rhino's global object / scope This will load a javascript source file , similar to how include / require will in PHP . Once you load a file , you'll be able to call and function or use any object defined in the loaded file . This is how things work when you're using the Rhino shell , which is the only context I know ( your question mentioned the Java SDK , which is outside my area of experience )
Is this available outside of the Rhino shell ?
Not sure , that's not my pay rate . ( updated the question to reflect that )
if you happen to be trying to do this within ant , you might see this error : but you can sidestep it :
The >> '' + < < is of major importance here !
A real-life example this time , i.e. running the esprima parser with Rhino 1.7 R4 . After running this code , you should see the output as follows : So indeed , the trick is in reusing the globalScope object .
How to Prevent an Applet from Unloading across web pages ?
I have a large applet that takes some 40 seconds to initialize ( cabs are cached so ignore download time for this question ) . The issue is , if the user goes to Page A which launches the applet ( single window ) and then navigates to page B , the applet is unloaded . If the user goes back to Page A , they incur the 40 seconds init time once again . I'd like to be able to launch the applet , incurring the 40 seconds init time once and only once . The applet needs to reside inside a single browser window ( the same window as my web application ) . In other words , I cannot launch the applet in a popup . Does anyone have any creative ideas around how to prevent the applet unloading ?
Put the Applet in a frame that doesn't unload , or prevent the user from going to another page in the web page that contains the Applet .
The only option would be to put you content in an iframe that encompasses your whole document and use absolute positionning for the applet . With a css like this one : There are MANY drawbacks : The applet will always be positionned at the same place , no matter the page You will suffer to get the iframe full width and full height , especially in IE It's possible you will also suffer to have the applet showing properly ( an object on top of an iframe , I can't imagine what troubles you'll run into ) The applet will stay if your user click to a link leading outside of your site unless you set a target for the link ( ie , target='top ' or target='__blank ')
If I did this , the browser URL would never change from page to page . Not really what I'm looking for .
I thought maybe there'd be a way to popup a tiny browser window and have the applet load in that , then using Javascript somehow pull in the applet from the smaller window into the larger browser . I don't think I can manipulate the DOM in this way though . Any other ideas ?
You could show a warning , this way : This works in allmost every browser , but you cannot change the text surrounding your text .
Browser Java Plugin Detection
What is the preferred method to determine if the Sun Java Plugin is installed in the browser ?
this doesn't works always . ( 1 ) If its disabled in firefox it says not installed . ( 2 ) on lion os x , even when its disabled in all browsers , it tells installed
This isn't an answer for your exact question but is offered as a solution for determining the browser itself . Don't be too harsh , this is really old code that I wrote some time ago .
You may also consider PluginDetect script .
Why is Java giving me an IllegalArgumentException ?
I'm using dwr and spring and I get this error : java.lang.IllegalArgumentException : Javascript name * is used by 2 classes I found nothing helpful on Google , do you know why I'm getting this error ?
That is neither valid nor well-formed XML .
Where is Java getting involved in this ? This is Javascript .
Found . Because the version of the DWR's jar did not match the version of DWR's schema
+1 for answering your own question
Returning a host object in Rhino
What is the best way to return an host object to JavaScript in Rhino ? I have two classes like this : It works , in the sense that I can call the toString method , but the member object doesn't behave as I would expect : If I call Object.prototype.toString though , it does say it's a Member object : I've tried calling m.setPrototype and Context.javaToJS .
Edit : The method can also be written : which will call Member.jsConstructor ; there may be other differences as well .
Thanks , that's perfect .
How can I handle Java object serialization with JavaScript ?
I have serialized the Java object located on the server side and sent it to the client How can I deserialize that XML string into the Java object using JavaScript and execute the methods of person class in the client side using the JavaScript ? Please help me with syntax or any guidelines .
Is this not a duplicate of your previous questions ? I'm getting a distinct sense of deja vu here
XML is presented as a DOM tree to JavaScript
ok , how does the javascript deserialize that recieved XML into Java object.since i want to deserialize into java object so that it could be executed in client side JVM once instantiating that java object
What you're describing here sounds different than your question .
why do you need JavaScript do deserialize the objects ? why don't you simply use a Java-to-Java connection ?
You can't run Java methods with Javascript . The only thing you could do is to read the properties of the Java object - this is the only information that is serialized in the XML file . It is very easy to read XML with javascript . To be able to serialize a Java object , send it to a client and execute Java code there a totally different architecture would be needed . At first you need Java running on the client too . Then you would need to employ a method like RMI .
Yes , but you still need a different serializing technique and dealing with security issues . The applet would probably need to be signed in order to be able to communicate with the RMI server .
This seems overly complicated . What he really needs is to make his Java server provide a web service and then he needs to call that web service using AJAX .
You can call Java methods on the client side using JavaScript by using SOAP . This article explains how to create a WSDL web service that can be accessed by any SOAP client that supports WSDL . You can then call the Java WSDL service using AJAX in JavaScript ( if you can find a JS library that implements SOAP and WSDL ) . Alternatively , you can write a simplified front-end to the Java WSDL service in PHP using PHP's built-in SoapClient library . Make it take some simple GET arguments and return JSON or XML . You could then trivially access the PHP web service using AJAX via jQuery ( or an equivalent AJAX-supporting library ) .
+1 XStream supports JSON out of the box .
If you're going for an applet and want to make Javascript calls from Java , checkout the LiveConnect with the JSObject wrapper class . This way you can excute javascript functions inside the applet ( and pass information in between ); Look into the IRIS applictation made for Flickr , it's open source and uses this technique . The Belgian JUG Parleys have a speech from a convention covering some of this , You can find it here .
Detecting EOF / TCP teardown using Java sockets from Javascript
I'm creating a Java socket in Javascript , sending an HTTP request and receiving a response correctly but I seem to be unable to detect an EOF or the server closing the socket at the end . What am I doing wrong ? The problem is we never exit the outermost while loop - the server stops transmitting and ( presumably ) closes its end of the connection , yet receiver.read() never returns -1 and all the socket methods return state consistent with the socket still being connected .
Wouldn't the this : while ( receiver.available() & & ! eof ) be better ? in lieu of the first while ( receiver.available() ) ?
Seems a bit redundant - available() is defined as returning the number of bytes of data available to read without blocking , so would return 0 after EOF . Tried it anyway just in case ; doesn't fix the problem .
Or do you mean in place of the outermost while ? Data being available to read without blocking is independent of whether the server has closed the socket - there could be pauses in transmission , and the OS could have buffered input data . So we must test both separately .
No , I meant the inner while , but your first comment is right : I'm wrong .
Ok . What's the value of eof when the code reaches this comment ? // at this point response does contain the expected HTTP response What's the symptom ? I assume it's an infinite loop ?
eof is still 0 at that point ( otherwise we'd exit the outermost while() correctly and I'd not be posting this ) . Question edited - hopefully the problem is clearer now ?
OK , further research suggests there is no non-blocking way to discover whether the remote side has closed a socket . However , it is possible to achieve this using NIO channels :
When the end of the stream is reached , available() returns 0 , so in your code , you never read the -1
Right . But read() will block until either EOF is reached or there is more data , and Javascript is single-threaded so we don't want to issue a read without knowing for certain we have data to read . And available() can return 0 during transmission , so we can't use that to test for EOF .
Process the file before uploading it
I got a form with SWFUpload . Files uploaded to the server are converted server-side ( video being compressed , images being resized etc ) Question is - can i delegate some of the functionality to client-side ( like image resizing ) , to save some bandwidth for user .
Video compression via Javascript would probably slow the browser so much that it wouldn't be bandwidth savings and if anything would probably annoy the end user .
Thanks , very valid point . Though it doesn't have to be javascript compression . Maybe some process , just initiated by javascript ?
Process the file before uploading it
I got a form with SWFUpload . Files uploaded to the server are converted server-side ( video being compressed , images being resized etc ) Question is - can i delegate some of the functionality to client-side ( like image resizing ) , to save some bandwidth for user .
Video compression via Javascript would probably slow the browser so much that it wouldn't be bandwidth savings and if anything would probably annoy the end user .
Thanks , very valid point . Though it doesn't have to be javascript compression . Maybe some process , just initiated by javascript ?
Playing a sound notification using Google Web Toolkit
Is it possible to play a sound notification using Google Web Toolkit which will be translated to Javascript ? Thanks .
Yes it's possible , scriptaculous ( a js library ) has a sound.js which is an example of how to do it . The source is under 50 lines of code .
Try using this library : http://code.google.com/p/gwt-voices /
Since GWT 2.2 you can play audio with : com.google.gwt.media.client.Audio class . API : http://google-web-toolkit.googlecode.com/svn/javadoc/2.2/com/google/gwt/media/client/Audio.html Sample :
where is the ` style ` folder ? Is it in the same directory as the . java file , or is it in the web directory ?
@MarioStoilov its the URL , check http://www.gwtproject.org/javadoc/latest/com/google/gwt/media/client/MediaBase.html#setSrc(java.lang.String )
Tools for coding conventions and analyzing HTML , CSS , Javascript client side code
I use various code checkers for Java development but I haven't used one for HTML ,. CSS , Javascript . Do any exist . That flag bad practices or similar tool .
Please accept an answer .
Firebug with the YSlow addon from Yahoo is pretty effective at pointing out your inefficiencies . Also try the web developer addon and hitting ctrl+shift+a - it'll load your local code straight into the w3c validator . Read up on 508C compliance - you can't test for it but it's good to know .
W3C has a Markup Validation Service for validating ( X ) HTML . Also , W3C has tools : For CSS For Atom RSS feeds And JSLint is a tool for checking your JavaScript .
+1 for JSLint . It is developed and maintained by Douglas Crockford , a renowned Javascript guru .
js2-mode for Emacs will catch and highlight some common Javascript errors while you're editing your code . It's not as thorough as the external lint tools , but it's a lot more immediate in its feedback .
Firebug with CodeBurner gives you reference material for your HTML and CSS . You can lookup HTML elements , attributes , and CSS properties quickly without leaving the page .
Tools for coding conventions and analyzing HTML , CSS , Javascript client side code
I use various code checkers for Java development but I haven't used one for HTML ,. CSS , Javascript . Do any exist . That flag bad practices or similar tool .
Please accept an answer .
Firebug with the YSlow addon from Yahoo is pretty effective at pointing out your inefficiencies . Also try the web developer addon and hitting ctrl+shift+a - it'll load your local code straight into the w3c validator . Read up on 508C compliance - you can't test for it but it's good to know .
W3C has a Markup Validation Service for validating ( X ) HTML . Also , W3C has tools : For CSS For Atom RSS feeds And JSLint is a tool for checking your JavaScript .
+1 for JSLint . It is developed and maintained by Douglas Crockford , a renowned Javascript guru .
js2-mode for Emacs will catch and highlight some common Javascript errors while you're editing your code . It's not as thorough as the external lint tools , but it's a lot more immediate in its feedback .
Firebug with CodeBurner gives you reference material for your HTML and CSS . You can lookup HTML elements , attributes , and CSS properties quickly without leaving the page .
How would I write a Java regex that gets the contents of a
I'm trying to integrate analytics into my GWT application . To do this , I'm calling a service that returns a String of HTML that needs to be parsed and eval'ed . I need a regex that looks for and grabs either 1 ) the body of the tag or 2 ) the contents of the " src " attribute . I want to eval both of these with JavaScript . I'm happy with assuming that if a " src " attribute exists , the body can be ignored . Thanks , Matt
This question is really confusing , Java ! = JavaScript
I need to do the parsing of HTML with Java . After getting the JavaScript , I'll eval it . Oh , and I'm using GWT , so Java / is JavaScript . ;-)
It seems like there's got to be a better way to do what you're trying to do . What you propose is a very unnatural pairing ( regex to find js tag & then eval while using GWT )
Someone needs to tag this with ' GWT ' or ' Google Web Toolkit ' . Also , please make it more clear in the question that you are using GWT . Otherwise , this question doesn't make much sense ( better ways to do the same thing in a js context ) .
To match the body of the tag , you can try something like which you want to match case-insensitively . Works assuming there is no "" appearing in the actual script body and no " > " in the attributes for the tag . You can add whitespace globbers to the regexp to make it more robust . Note the use of . * ? to make sure the scanning stops at the first closing tag . To add the src attribute , you can try and use the second submatch to get ' src ' , and third to get the body . Again , you might want to add whitespace globbers . But would be best off by running the thing through a proper HTML / XML / SGML parser , because regexps can blow up in special cases .
You could use something like this : The regex uses the lazy star quantifier and should work in most cases but it could certainly be improved upon . It will match in $1 the attributes of the script tag , and in $2 the body . You can then check for the src attribute in $1 ( if it's not empty ) .
How about to start with . You may need to customize it a bit to accept the src attribute with single quotes or without quotes . ignore white between the ' script ' and ' ' You also must use the DOTALL mode to ensure the . captures newlines .
Your answer won't handle
Agreed . There are many cases it won't handle ( like the type attribute of the script tag ) . I suggested this as a start to build from .
and it will match everything between first and last which wouldn't work nicely when there are multiple scripts on the page
Must it be a regex ? You can use the DOM to obtain such information , here is a trivial example of getting the contents of the BODY tag , you could apply it to whatever you like :
+1 Yes ! Parsing non-regular strings with regular expressions is WRONG !
+1 . I love regex , but use the right tool for the job . regex is the wrong tool for this job .
While I agree in principle , he's trying to do this via the GWT which uses java to create javascript .
This seems to do what you want : That being said , you would probably be better off using something like Tag Soup if it is at all possible .
I'm marking this as the correct answer since it does what I originally wanted . Also , laz provided me with the secondary answer ( below ) that I needed for the final solution .
Is that correct ? I would think the last peren should be inside the tag like this : ]*	C
src	C
=[	C
'	C
"	C
]	C
(	C
[^	C
'	C
"	C
]*	C
)	C
[	C
'	C
"	C
][^	C
>	C
]*	C
>	C
|[^	C
>	C
]*	C
>	C
(	C
[^	C
<	C
]*	C
))	C
because I believe script tags not specified always with a closing node , not shorthand , so , never / >
You are technically correct , which is the best kind of correct of course , except that HTML in the wild can certainly be malformed and if a browser can render it ( or ever did ) , be assured someone once wrote it that way ! Since Matt seems to have controlled the HTML being parsed though , he might not have needed to handle that scenario .
Thanks for all the great suggestions everyone . I quickly discovered it's not possible to use Java's Regex API in GWT and was able to do what I wanted with JSNI . Unfortunately , I ran into additional issues as documented in the following thread : http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/ac2589369ddec8a3
I guessing that the call to eval ( scripts[i]	C
. getAttribute ( " src ")) doesn't not load the URL that src= "" points to . It is simply trying to execute the actual URL string as JavaScript . You need to figure out how to load the contents of that URL and eval it .
Ugh , I = I'm and doesn't not = does not
Thanks for the suggestion . It allowed me to solve my problem . Here's the solution I came up with : http://groups.google.com/group/Google-Web-Toolkit/msg/0d076f647a4472bc
Are Java Applets unable to communicate with javascript within Firefox on Mac OS ?
Would it work via accessing one of the global objects on the screen ? Ergo , In JavaScript : In Applet : That would be my experiment . But I've been calling " window.close() " on FF on Mac OS X , and that still works .
Calling the function is not the problem , getting the result back is . With debug statements I can see clearly that the function is executed , but somehow the return value gets lost and I only get " null	C
" .
I haven't used the applet api in a while but if i recall correctly in order to allow an Applet to cann JS code you should enable the attribute mayscript in your applet tag or a param mayscript in the object tag notation . For communication in the other way JS to Applet you should also use the scriptable attribute or parameter , for example : This allows your applet to use script functions .
The mayscript and scriptable attributes are necessary indeed . But I already include them in my applet tag , otherwise it wouldn't work at all with other browsers .
If you remove all calls to properties of the applet you're cool . This may happen in other situations as well . I found this page after Googling a similar problem , so I thought I'd add a datapoint . The only difference is that I was using win.call() rather than win.eval() . I had an alert() call in the JavaScript to make sure the call was getting through , and saw what appears to be exactly the same lockup on Firefox 3.0 . 9 , OS X 10.5 . 6 , Java 1.5 . 0_16 . 100% repeatable with Firefox , no problem on Safari ( I don't have Windows installed on this box ) . When I got rid of the alert() and simply returned a value , the problem went away . Sooooo ... maybe calls into JavaScript time out after a while and simply toss null ?
How to keep the bottom of an SWT Browser widget visible when appending to the HTML content ?
Rewriting the whole HTML content every time seems unnecessarily busy-work , and there may not be a way to prevent some browsers from scrolling to the top each time you redraw the entire page . Especially if you allow the logs you show to get very long , this will get slower and slower as the log gets longer . A better solution might be to use JavaScript to append to the page . You're already using How about something like this ( assuming " itemID " is the ID of the DIV containing the content ): You have to do the replaceAll() and you may need a couple more transformations , depending on your log content . I've noticed that browser.execute() doesn't like it if the script contains newlines , for example , and single quotes in your string needed to be quoted as I show above .
Thank you , this is much better , even if I set the entire text each time .
Just wanted add that a downside of this is that it does not seem to work on the Mac with a default Browser widget . A workaround is to force Mozilla usage in the Browser widget with the SWT.MOZILLA option , which requires an installed XulRunner ( see http://www.eclipse.org/swt/faq.php#howusemozilla) .
@Fabian Steeg : You may want to log an SWT bug report about this .
I would have just added this as a comment , but it wouldn't let me ( not enough reputation ) . You can ship XUL in a nonstandard location on the mac , by setting a system property . System.setProperty ( " org.eclipse.swt.browser.XULRunnerPath " , " / fubar / xul / Versions / 1.9 . 0.7 / ") ;
Thanks , this is good to know for the future . In this particular case I ended up not using the browser widget but a tree viewer ( for other reasons ) .
. NET , Java to JavaScript compiler
I am interested to create a drag-and-drop layout designer using only JavaScript , HTML and CSS . The designer will allow the user to drag the page elements from one place to another ( something like Blogger ' s layout designer ) to create a site layout . But I don't want to hand code everything in JavaScript , I would prefer to write my application in . NET ( preferably ) or Java and rely on a compiler to compile it to JavaScript and HTML . What are the . NET or Java to JavaScript compilers that you have used and can recommend ? For Java to JavaScript I know GWT is available . What about . NET to JavaScript ? Microsoft did come out with Volta , but the project seems to be no longer available .
suggest it as a Google Summer of Code project ?
Look no further , you already mentioned GWT pick that ! It has a very good API and many good applications have use them . Even JavaScript frameworks like http://extjs.com have GWT support . I use it for an small JavaScript calendar recently . To be honest , I don't really like JavaScript that much . Most of the times the errors are hard to track ( specially for a non JavaScript guy as me ) and the workarounds included some plug-ins for the explorer just to get exactly what a compiler should do . Catch silly error early . In the other hand I'm very familiar with the Java Programming language , and many of the libraries ( if not the most important ) such as java.lang and java.util have been ported to GWT . Plus , the guy who wrote relevant parts of java.util is the same behind GWT ( google Joshua Bloch . )
GWT * could * be a pain in the ass , depending on how the serverside is to be implemented . But it is getting heaps better now in its current iteration .
ExtGWT is a separate project to ExtJS and it's * awful* . For one , the guy has absolutely no clue when it comes to generics . Run away .
Check out Nikhil Khotari's Script# project . It allows you to write C# code and compiles it to JavaScript .
Gee , really ? Drive-by-downvoting ?
Also for Java there is J2S . Java2Script ( J2S ) Pacemaker provides an Eclipse Java to JavaScript compiler plugin and an implementation of JavaScript version of Eclipse Standard Widget Toolkit ( SWT ) with other common utilities , such as java.lang . * and java.util . * . You can convert your SWT-base Rich Client Platform ( RCP ) into Rich Internet Application ( RIA ) by Java2Script Pacemaker . This means that if you use the SWT IDE ( drag and drop ) you can then convert the generated code to JS + HTML .
I wouldn't hand write any Javascript for UI . This can lead to maintenance disaster . jQuery is what I am using but I still wouldn't use it to write full UI Javascript code . ExtJS is also another good option if you plan to write in Javascript . In general what I am saying here is that it's so much easier to main in Java / C# than Javascript . Check out cappuccino framework and Atlas . Never used GWT . Script# is similar to GWT but for ASP.NET framework . Also depends on the requirement , if your site is public facing then RIA isn't a good option . It's all about which extreme end you pursuit ( hand written and web standard , or RAD or libraries like jQuery / ExtJS as the middle option ) .
Script# has already been mentioned . It hasn't been updated since August 2008 . Milescript is another , but also has seen very little for 6 months . Extsharp for the Ext library . Adds Ext support for Script# Javascript compiler to Java ( going the wrong way for you ) Java to script Eclipse plugin My issues with Script# ( a known issue ) is it doesn't support jQuery yet . However it comes with a very lightweight library to tie in with the . NET framework , in Nikhil's sscorlib.js file and ssfx.core.js files . And also has support for lots of other Javascript APIs ( mostly Microsoft , seeing as he is in the ASP.NET team ) . I'd love to see a Script# extension for jQuery ( I'm thinking about writing it if it's easy enough ) . As it stands , most don't provide full compilation yet but they're certainly getting there . Update : I wrote a small extension to enable JQuery support Script# a few months ago . The project can be found here .
Last time I went to the Script# site , I saw that jQuery is on the roadmap for the next release of Script# ( due some time in 2009 ) .
Check out Axial , a . NET to JavaScript converter that works well in ASP.NET . It supports WebForms , jQuery and canvas . It's not very mature , but it's worth a look .
I'm going to second the use of GWT . I've used it for several projects and , when used in combination with a modern editor like Eclipse or IDEA , it really makes the mess manageable . It's important to note that not only does it allow you to write in Java and have that transformed into optimized and obfuscated Javascript it also comes with a substantial subset of the core Java API . In addition to this they provide lots of additional classes for doing things like parsing and working with JSON and XML and communicating with a server via asynchronous HTTP . You can check out the docs to get an idea of what else they offer . Another feature that might be of special interest to you for implementing drag and drop functionality is it's integration with javascript libraries like Ext and scriptaculous . Either through pre-built interfaces or via JSNI
http://jsc.sourceforge.net is a C# to JavaScript , Java , Flash and PHP compiler .
Check this open source Java project http://st-js.org it produces clean javascript code that is clean , easy to read and easy to debug .
JscriptSuite offers another free . NET to Javascript compiler . There is a big difference to Saltarelle ( jsc , SharpKit# etc . ) . Developer write down and debug only C# code ( or any other . NET langauge ) , like in GWT . Javascript will be generated f r deployment only .
how to get rid of double-scrollbars on internal frame of GWT app
May be it makes sense to embed GWT into old JSP ? Place div id= " for.gwt " / somewhere on the JSP , and import JS . It's not clear how you embed JSP into GWT , sorry . Would something like document.body.clientHeight within the frame help you , I wonder ?
Inside my GWT app I create a Frame object . Then I do frame.setUrl ( " / path / to / legacy_content ") - so the browser essentially loads a new page into the frame . The legacy content happens to be generated by a JSP .
its possible to eliminate the scrollbars , but its not possible to make the page " fit " the frame , which is how I understand what you actually want . If you really want to make the scrollbar disappear , just set the frame's overflow to none .
Read this , it will most likely be a solution to your problem It explains how you can get the size of the window and manage it's scrolling in JavaScript .
The easiest way that I can think of to fully solve this problem is to not use a Frame element , but rather an HTMLPanel combined with an HTTPRequest . This approach adds complexity with the RPC call , but an HTMLPanel is a simple div that has content within it . As such , it can expand and / or contact with your JSP content . The end result would be a seamless integration of the two pages . Google's own example on JSON has good examples for making an HTTP request .
How do I limit my date range on an Ajax Calendar ?
I am using the ajax calendar tool . I like its function , but I would like to restrict the user to an option of selecting a time frame starting with Today , and ending with 6 months prior . How do I do this ?
Which ajax calendar tool are you using . There are about 7000 out there . I've seen the ones from Yahoo ( YUI ) and a few others that take configurations for start and end dates where the user has to select something in between . If you're using a calendar that doesn't have that , you could add it by checking the date after the user selects and checking if that is outside your range . Then display a message and leave the calendar visable for them to pick again . ( Might be easier to switch to a calendar that already supports this though )
You can use asp : comaparevalidator to check selected date .
If you're using the asp.net calendar control , use the DayRender event to check each day against the date limit you wish to impose .
Seems like something I should be looking at . How would I add this to my html page ?
Java equivalent to JavaScript's encodeURIComponent that produces identical output ?
I've been experimenting with various bits of Java code trying to come up with something that will encode a string containing quotes , spaces and " exotic " Unicode characters and produce output that's identical to JavaScript's encodeURIComponent function . My torture test string is : " A " B " If I enter the following JavaScript statement in Firebug : Then I get : Here's my little test Java program : This program outputs : URLEncoder.encode returns %22A%22+B+%C2%B1+%22 getBytes returns " A " B " Close , but no cigar ! What is the best way of encoding a UTF-8 string using Java so that it produces the same output as JavaScript's encodeURIComponent ? EDIT : I'm using Java 1.4 moving to Java 5 shortly .
Using the javascript engine that is shipped with Java 6 : import javax.script.ScriptEngine ; import javax.script.ScriptEngineManager ; public class Wow { public static void main ( String [] args ) throws Exception { ScriptEngineManager factory = new ScriptEngineManager() ; ScriptEngine engine = factory.getEngineByName ( " JavaScript ") ; engine.eval ( " print ( encodeURIComponent ( ' " A " B "'))") ; } } Output : %22A%22%20B%20%c2%b1%20%22 The case is different but it's closer to what you want .
Ah , sorry ... I should have mentioned in the question that I'm on Java 1.4 moving to Java 5 shortly !
Iiips . I don't have a solution for you then :-) .
If javascript is the only solution you can try Rhino , but it's too much just for this small problem .
Even if he was using Java 6 , I think this solution is WAY over the top . I don't think he's looking for a way to directly invoke the javascript method , just a way to emulate it .
Maybe . I think the easiest solution would be to write your own escape function if you can't find anything that does the trick for you . Just copy some method from the StringEscapeUtils class ( Jakarta Commons Lang ) and reimplement it with your needs .
@Ravi Wallau very nice !
This actually works , and if you're not worried about performance ... I think it's good .
Looking at the implementation differences , I see that : MDC on encodeURIComponent() : literal characters ( regex representation ): [-a-zA-Z0- 9._ *~ ' ( ) ! ] Java 1.5 . 0 documentation on URLEncoder : literal characters ( regex representation ): [-a-zA-Z0- 9._ *] the space character " " is converted into a plus sign " + " . So basically , to get the desired result , use URLEncoder.encode ( s , " UTF-8 ") and then do some post-processing : replace all occurrences of " + " with " %20 " replace all occurrences of " %xx " representing any of [~ ' ( ) ! ] back to their literal counter-parts
I wish you had written " Replace all occurrences of " %xx " representing any of [~ ' ( ) ! ] back to their literal counter-parts " in some simple language . :( my tiny head is not able to understand it .......
@Shailendra ` [~ ' ( ) ! ] ` means `" ~ "` or `"'"` or `" ( "` or `")"` or `" ! "` . :) I recommend learning the regex basics , too , though . ( I also didn't expand on that since at least two other answers show the respective Java code . )
This is the class I came up with in the end :
Thanks for sharing the code ! :-) +1
Adding a tip . In Android 4.4 I found that we also need to replace ` %0A ` which means a return key in Android input , or it will crash the js .
I came up with another implementation documented at , http://blog.sangupta.com/2010/05/encodeuricomponent-and.html . The implementation can also handle Unicode bytes .
I came up with my own version of the encodeURIComponent , because the posted solution has one problem , if there was a + present in the String , which should be encoded , it will converted to a space . So here is my class :
Thanks for a good solution ! The others look totally ... inefficient , IMO . Perhaps it'd be even better without the BitSet on today's hardware . Or two hard-coded longs for 0 ...	~
127 .
` URLEncoder.encode ( " + " , " UTF-8 ") ; ` yields `" %2B "` , which is the proper URL encoding , so your solution is , my apologies , totally unnecessary . Why on earth ` URLEncoder.encode ` doesn't turn spaces into ` %20 ` is beyond me .
I have found PercentEscaper class from google-http-java-client library , that can be used to implement encodeURIComponent quite easily . PercentEscaper from google-http-java-client javadoc google-http-java-client home
How to create a photo gallery with slideshow effect of the images placed in server folder using jsp / servlet / javascript
I need to create slideshow of the images which are in server.These images would be changing as the user uploads . I need this using jsp / javascript / servlet / ajax
Please explain your problem a little more detailed . Is it with the slide show at all or don't you how to handle the uploads ? Should a open / running ( inside a browser ) slide show change when user uploads take place ?
Generally when the page loads , the slideshow code already has a list of the available files . It would need to use AJAX to poll the server periodically to determine if this list has changed ( a user had uploaded a file ) . Typically you'd just replace the array or string holding the list of files in the AJAX call . The server-side code just needs to supply the list of files in a folder in a format the slideshow expects . Here's a collection of different slideshows you can grab and modify for this purpose .
Read Browser / Client time from Http Servlet request header
Is it possible to read the Browser ( Client machine ) time when a request is made to the servlet ?
I don't believe so . Unfortunately the HTTP Date header is only sent for PUT or POST messages , and even then it's optional : Clients SHOULD only send a Date header field in messages that include an entity-body , as in the case of the PUT and POST requests , and even then it is optional . A client without a clock MUST NOT send a Date header field in a request . If you have control of the client , you could ( perhaps ) encode it as a separate experimental HTTP header . Or add it as a GET parameter etc .
You can use javascript and append the time to every request . Provided that javascript is enabled , you can add the following to your links : You can do something similar , if you need timezone information . This question may help .
JAAS tomcat login module possible method to pass ip address
I've been looking into a way of passing the client ip as well as the userid and password from a JAAS login page to the JAAS login module implementation in my web code . JAAS only allows the user id and password to be passed to the login module . My idea is to have a java script code to append the ip address to the user id and then call the form submit . I just don't have the right java script code to do this . Can you help ? The web page has two input fields , j_userid and j_password , which the JAAS code knows to look it . So what javaScript code can I use to add the ip address to the j_userid field before the form submit . I was thinking of ' ip-address #userid ' and then in my login module I'd take the ip address off the userid .
Sorry , I don't think there is a way to obtain the ip on the client side , in plain Javascript . Testing the remote ip on the server side is probably not a solution if you don't control the infrastructure between the client and the server ( load-balancers , proxies ... ) . If you're confident the remote ip is the ip of the client , you should be able to hack a tomcat Valve or a servlet filter .
I can get the ip address onto the page in a hidden field using a JSF bean . The problem is passing it through to the JAAS login module .
I created these two javaScript functions . addIpSubmit is called from a login button . You can see I have a bean to put the ip address into a hidden field . The j_username JAAS field is also hidden and is filled in by the addIpSubmit()	C
function . It mungs the ip to the user name and calls the JAAS submit functions . Then in the login module I get the ip address and user name out . Just remember that the FacesContext.getCurrentInstance()	C
. getExternalContext()	C
. getRemoteUser()	C
now has the ip #userid in it .
How to get custom value from text field in JSP ?
I'm working in a very simple and small web application , it is a jsp that handles a shopping cart . What I do at this point is to iterate through all the products that are stored in the car and add them one by one to the jsp with each iteration . This is the code that adds a row to the jsp in each iteration : As you can see I add to the end of each row a submit type control with a custom method for handling Click events , the use of this control is to remove from the car the respective product . The problem that I have is that when I click in the delete button of a product , the id that is passed to the CustomSubmit	C
( ... ) method is not the id of the product that I'm trying to remove but the id of the last product added to the jsp . So , my question is how can I get the correct id from the item that I'm trying to remove ?
How are you iterating over each item in the cart ?
I got them in an ArrayList()	C
that is contained in a Java Bean that is located in the session scope .
The way i use to do it is as follows : Replace add the deleteIt javascript function , in the function you fill a hidden input field with the id . Then submit the page and the correct id gets passed to your page Little sidenote its always prudent to escape all your Strings maybe like
Thanks for the sidenote , I will do it , now about what you suggest , I understand the javascript function part , but how do you do to get ' yourid ' variable , because I{m adding rows dynamically , and I don t know which is the id from the product that the user wants to remove , the id is contained in a column of the row , but I don't know how to get it ...
I assume your cart is a list of objects , each having the attributes id and quantity . So I would expect you code to look something like this ( noting Peter's answer about using a ' button ') : I'm not entirely sure what you are trying to do with the ' request ' parameter in your original code but if this is the HTTP request all you will get when you try to write it to the JSP is the result of the request.toString method .
well , actually you can just ignore the request parameter , is not important at this moment ; and it is just as you say , that is exactly how I'm working , but the problem is that when the event is fired and this code " CustomSubmit	C
( ' < %= cartItem.id % > ')" is executed , I don't get the " cartItem.id " from the item that I want to remove , I get the " cartItem.id " from the last item added to the jsp . One solution could be try to get the " cartItem " from the list but in order to do so I will need to know the row number of the item that I want to delete and I don't know either how to get the row number
When you look at the page source in the browser does each row in the table have the same id ? If so the problem isn't with this code , it's with either the iteration logic or the cart item object . If not then there's something up with your JavaScript and it's time to crack out Firebug and take a look at what's going on .
javascript injection in wicket
I have J2EE project which uses wicket framework . I want to know how can I prevent from javascript injection in wicket ?
Although I didn't think the way in which you formulated your question deserved it ( no details , no background , no example problem statement , implied susceptability to injection , etc ) , I dug up some details from the Excellent Wicket in Action : Wicket is secure by default You never need to worry about pimple-faced 14-year-olds trying to hack your web application . To do so , they would have to hijack the session and then guess the right page identifiers and version numbers , which would be relative to the session and the relevant component paths . You d have to be a persistent hacker to pull that off . You can make your Wicket application even more secure from the default by encrypting requests with , for instance , CryptedUrlWebRequestCodingStrategy	C
.
All Wicket components escape strings by default ( by Labels , TextFields , etc . ) , which avoids most common issues related to javascript injection . You should take appropriate care , though , if you disable this behavior ( component.setEscapeModelStrings	C
( false	C
) ) for some reason , or create custom-rendered components ( if you write the markup directly to the output ) .
render complex org chart similar javascript / flash / java graphic library
i am looking for javascript / flash / java graphic lib . that able to render nicely a very complex relationship where one node is relate to another node etc . for example a --> b ---> c b --> d , e , f any recommandation library ?
So essentially you are looking for recommendations for a graph visualization library for Javascript , Flash , or Java ?
yes.i am looking for graph visualization lib
what a cooincidence , I was just looking into this myself . I found this : http://www.ryandesign.com/canviz http://code.google.com/p/canviz /
Prefuse is very cool and Java based . Demo here .
This is the one I use for Organizational chart http://code.google.com/apis/visualization/documentation/gallery/orgchart.html
The Graphviz open source graph visualization software is widely used to render graphs , and jGraphviz is a binding for java .
focusing the text field
How to focus the calender after selecting the date from calender .. I am selecting the date and calender is also closing but after that focus is missing . Please help me on this issue .. Regards Sk
which calender ?
java or javascript ?
It seriously depends on the calendar implementation you use . If the calendar is drown by Java tag try to seek the onchange attribute and set it to :
This appears to be JavaScript code , not Java .
Do Applet JSObject javascript calls serialize ?
Do applet javascript calls serialize in any proper way ? I'm considering implementing a model in which two threads send off javascript commands . One responds to requests from the browser ( js ) , and the other hits the browser periodically . My question is this : what happens if these two javascript requests collide ? I'm worried about concurrent javascript requests , as intuition leads me to believe that one of the calls will fail nondeterministically .
Javascript is single-threaded . Only one block of code can be executing at any given time ; any other event , method , etc . that fires will wait until the currently executing code terminates . Google Chrome's javascript engine may be an exception - I recall them mentioning some kind of multi-threaded javascript support in their features , but I'm unsure how it works . In IE 6 , the browser UI will actually become unresponsive while JS code is running ( if you stop at a breakpoint with keyword ' debugger ' , or have IE set to debug , for example ) .
Serialize ? Do you mean synchronize ? JSObject works by passing primitives to a single JSContext JNI NPAPI wrapper which acts on the DOM in the underlying browser implementation . Are you referring to the passing of primitives through JNI ? I don't know much about how chrome's JS engine works , but I assume that since the liveconnect NPAPI in chrome is the same as the others , the ability to write multithreaded javascript has nothing to do with multithreaded JSObject access . The affected code extends the same abstract JSObject class that firefox uses . There are several implementations of JSObject / liveconnect -- a few for netscape / firefox and one for ie ( ocx ) . All behave differently as far as multiple threads go . DOM access isn't threadsafe in general as far as liveconnect is concerned . So , officially , multiple threads accessing the DOM is undefined . If you manage to actually access the DOM through something other than code scoped in DOMService.run() , you'll get crazy deadlocks and race conditions . So , basically , you need all of your java threads to post all DOMActions to your DOM access dispatch thread only .
Display a javascript / css tooltip within a @For loop with Tapestry 4.0 . 1
I'm not at all familiar with Tapestry 4.0 . 1 and need to update a legacy application to display a formatted tooltip for a few links within a @For loop . What is the easiest / best way to go about accomplishing this ? Should I be using the @Script component or is there a simpler way ? By the way , upgrading to a newer version of Tapestry is out of the question . Unfortunate , yes , but out of my control . Thanks in advance for your help . Carl
Maybe the better question would be : How do I pass a value to an inline function call ? I've written a small function to show the tip , but I need to pass the message to it like so : AdUnit Predicate So , how do I pass the message in ?
After posting my question , I managed to come up with a rather hacky ( crappy ? ) solution . Can't say it's my proudest moment as a engineer , but it works . * * Some code omitted to protect the innocent .
IIRC , using the dom to update the structure is preferred to a straight document.write ( ... ) CMA : There was something along the lines of DOM / document.write posted here on SO a while ago
Use the @Any component . For your example , substitute MYTOOLTIP with whatever object is holding the message :
How can I define static properties for Rhino's ScriptableObject ?
Rhino provides Scriptable interface and ScriptableObject helper class to implement a javascript object backed by a java object . When ScriptableObject is constructed , its methods with names starting with jsFunction___ , jsStaticFunction___ , jsGet___ , jsSet___ , jsConstructor are automatically defined for the javascript object . This way you can defined funations , static frunctions , instance properties ( by its accessors ) , and constructor . The question is how to define static properties ? By static properties I mean properties on the constructor , like static methods are methods on the constructor . The only way I see for now is to use finishInit method , and define static properties manually . But what is the right way ?
Currently I have something like this on my mind : Are there other ways ? And is this way correct ? IMPORTANT : Note that constructor for MyObject is not yet defined in scope , when finishInit is called . In order to define static properties , which are instances of MyObject , use the following syntax :
md5 hash for password string in GWT / GWT-Ext ?
I am currently trying to modify an existing GWT-Ext application , that is using plain text passwords in its MySql database . My plan was to use md5 hashes , as the existing passwords can be easily altered with the MySql function and I was expecting to find an easy solution for the GWT-Ext side as well . But as I found out , java.security is not supported by GWT and there doesn't seem to be any other implementation that can be used to change the password string to a md5 hash on client side . Only " solution " I found so far , is to re implement a md5 method via JSNI as described here : http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/ad09475a9944c9f8 There is an existing user extension for Ext-JS , but I couldn't find anything for GWT-Ext : http://extjs.com/forum/showthread.php?p=133516 Does anybody know a more elegant / simple way to solve this problem ? Maybe I should use something else instead of md5 to make sure the passwords are encrypted ? Cheers Frank
Personally , I would say you're doing it wrong . I wouldn't hash a password on the client side ( which is what GWT is ) . If you hash your password , you will undoubtedly want to salt it , otherwise you will be susceptible to rainbow attacks . If you hash + salt it on the client side , your salt will be accessible to your users . If I were you , I would hash + salt your password on the server side . This will allow you to use your standard Java code to perform your MD5 hash . My 2 cents . -JP
Its not a bad scheme if he does something like cram-md5 on the client side , where the client computes a hmac ( md5 hash plus a nonce salt ) and sends it to the server . The down side is that the server needs clear text password to check the hmac .
good point about the rainbow attacks , didn't knew about this before . I also solved it by doing the encryption on the server side , but the idea was , that I wanted to encrypt the password , before sending it to the server , as we currently only use http and no https .
GWT is client-side and server side . Other than that , the post is good advice . Don't hash it on the client side . Have a look at http://www.owasp.org/index.php/Hashing_Java .
Another idea that may fit your need is something called zero knowledge auth . ( Ie . the server never needs to know the user's plain text password . ) Basically , when setting the initial password , the client hashes the user's password N times ( where N is a largish number like 1000 ) , and then sends that final hash to the server along with N . The server stores the hash and N . Later , when the user wants to authenticate , the server tells the client N-1 , and the client hashes the password the user types N-1 times and sends that to the server . The server does 1 more hash on the received hash , and ( hopefully ) gets the stored hash . The server then stores the N-1 hash and N-1 number . Each time the user authenticates , the server decrements the stored N and saves the previous hash . When N gets down to 0 , the user must choose and set a new password . The server must ensure that it never asks for the same iteration , otherwise it is vulnerable to a replay . You can't really enforce that condition from the client side because the client ( especially a browser ) can't reliably keep track of the last N .
Very interesting idea , and never thought of that before . Doesn't really fit in the current solution , but I will keep it in mind for future reference , thanks :-)
Interesting idea so I spent some time thinking about it , but it is vulnerable to a man-in-the-middle attack . On an authentication request , the server sends some number M . The attacker sends ( M-1 ) to the client , and receives hash ( M-1 ) back . The attacker tries to authenticate again , receives challenge ( M-1 ) from the server and responds with hash ( M-1 ) . The attacker is now authenticated .
yes , that does sound like an issue . My first thought would be to require the server to not reuse M after issuing it during a challenge to the client . However , the larger issue remains that Mallory could tell the client M-100 , collect the hash ( M-100 ) from the client , and then login up to 100 times with the intercepted hash . I'll have to go see if the project that I first encountered this in found the same issues and dealt with it or abandoned zero knowledge auth .
I think you're always going to be vulnerable to a man in the middle attack . Keyloggers too . Also drunken confessions of passwords . We can only raise the bar so far with reasonable coding efforts .
You can use gwt-crypto to generate SHA-1 hashes on the client side using :
You should never use an md5 or other hash functions for password encryption . See http://codahale.com/how-to-safely-store-a-password /
TextMate equivalent to gVim Ctrl+P
To auto complete a previously written string . Is it possible ? EDIT I'm editing javascript / java if that matters .
Yes - the autocomplete key is ' escape ' by default . See the TextMate manual for further information .
Thank you !!! it was driving me crazy !!! :) About the manual ... mhhhh ... mmhh well .. Beside having to write my own product user manual ( which I hate and usually I avoid ) do I have to read others them too ??? :) :) :) ;) Thanks again
@Oscar - absolutely . RTFM , man .
Also , Google " Textmate tips " - I seem to pick up something new in every blogpost I read about TM .
Thanks for the hint . I didn't know about http://textmatetips.com .
Has anyone used GWT and can say it really delivers what it promises ?
I am a long time Java web developer and as most web developers I have used quite a lot of JavaScript . Even though I don't hate JavaScript as many other Java developers , I am still aware of its faults . GWT is a way to write javascript using java . Since I know both languages for a long time I am pretty skeptical about this claim . I mean , I having a hard time believing that you can really create full Java dynamic web applications with a rich GUI using just GWT . That is why I am asking here if anyone had the chance to work with GWT on a large scale project . If so , I would really like to hear what they think of it .
Why the close ? This looks like an interesting question to me ..
Some people have the bad habit of clicking ' close ' if they just don't like the question . I don't think this is subjetive nor argumentative at all
Did you end up using GWT ? Did it deliver ?
Hi Dave , No , finally I decided not using it . My final conclusion was that GWT seems like a really good product and the people who use it mostly love it . Nevertheless , I feel like since GWT has a totally different way of doing things , it is a product that once you start using it , you commit for life . And that is something I really stay away from . Thanks for asking .
I've looked at it briefly for an older application at one of my jobs , and I must admit that it was very impressive . All the code was written in Java , and the javascript was built beautifully . It had AJAX , dynamic pages , the works . There are plugins for it as well , such as the Ext GWT framework . It's definitely worth looking into and trying out , but you may find that the development cycle doesn't " feel " right , so you might opt to use regular JavaScript .
good point about the dev environment " feel . " GWT is definitely only for those that enjoy / tolerate the constraints of a language like Java .
As with any tool , it needs to be used properly . One can wield a hammer skillfully and build something nice , or just wave it around at stuff and do more harm than good . Google Wave , I think , has become the prototype of " what's possible " with GWT . It's still rather hard to find good GWT design patterns because the technology is too new , so that can harm efforts to develop a very rich , large-scale web app in GWT . Before beginning such a project , I would recommend looking at examples of the model-view-presenter ( MVP ) pattern and be sure to use it , or something like it , as a foundation for the control flow of your web app . One nice thing about GWT , and writing your code in Java , is that the high degree of abstraction and decoupling necessary for a clean MVP implementation is pretty easy ( thanks to the compiler ) .
I've written fairly large sized app in GWT , and i have to say that i'm even more impressed by GWT than i was when the project started . My general ' feel ' of the platform is that things are really well thought out , and they don't do things unless they can do it well , and can do it well on all browsers ( IE users are still your users ! ) Now , keep in mind that what GWT really excels at is the creation of large , highly dynamic single-page style webapps . If your goal is to enhance an otherwise static page with some javascript effects , than GWT is massive overkill ( gquery may change this , but i don't have experience with gquery ) Some features I enjoy include : The ability to share code between the server side and the client side . ( if your server side is written in java , of course ) . I didn't expect to use this a lot of this at first , but in practice , it can really save a lot of code duplication . However , i find that in general , this only works with code that has been written with GWT in mind - using code that was not written with GWT in mind often doesn't work well . This is because GWT only has a subset of the classes in the JDK , and in javascript , you have to care about performance a lot more than you do on the server side . It aims to achieve the fastest javascript , faster than you would ever write by hand ( because if you did write it by hand , the code would be unmaintainable ) . The unfortunate reality is that the browsers that a lot of people use have incredibly slow javascript engines , so the performance of your javascript code matters a lot . Gwt's compiler is a real optimizing compiler - it will inline methods , intern all your strings . devirtualize your method calls when possible , etc . Because you are compiling for each browser and locale , the compiler can also inline browser-specific and locale-specific code . This Google I / O presentation has some benchmarks a few slides in . It will also automatically sprite your images together to minimize the number of http requests needed , again improving the speed of your site . GWT 2.0 will allow you to combine together arbitrary files . most of the files created by gwt have a strong hash as their filename , which lets you set the files to be cached forever , but not worry about people having old versions if the file changes The code splitting in GWT 2.0 is very impressive and would be very difficult to do by hand . As the size of your application grows , dealing with the size of your javascript matters more and more , and you need to be able to split it into chunks You are coding in a statically typed language . I know some people prefer dynamic typing , but i like to compare this debate to the emacs vs vi debate - there are a lot of smart people on both camps , and arguing on the internet isn't going to change anyone's preference You get to use a lot of the great tools that exist in the java ecosystem , which are generally a lot more mature than the equivilant javascript tools . - junit , java IDEs , java debuggers , refactoring , etc .
Oh , and i guess the biggest downsides is : - compile time - hosted mode is great , but you can't currently use it for the system non-default browser - GWT 2.0 and out of process hosted mode should fix this though . - The java language can be verbose at times , although that is far from a showstopper . ( gwt for scala would be awfully nice :) )
If you have familiarity with both JavaScript and Java , you really are perfectly suited to get the most out of GWT . What many people do not realize is that GWT is pretty well layered and that you can really decide which of those levels you want to work at . For instance , I sometimes write directly against the DOM library for projects . Thats a lot like writing JavaScript code except you're able to use an IDE properly and get the power of a compiler . From the compiler I get static type checking , lots of good compiler optimizations , and ( actually my favorite for maintaining code ) debug mode assertions . Nobody ever really makes much of the ability to do assertions , but it's so nice to be able to compile a debug mode that does expensive checks to tease out bugs and then turn off the debug mode and have the code just evaporate . ( Not just the assert statements go away , but all the code reachable from the asserts also gets compiled out ) . Other times , I write code against GWT's UI library . That code looks a bit like swing or SWT code so it is most comfortable to pure java developers . Working at this level , you don't have to worry as much about the DOM and it is usually possible to construct an application without writing any JavaScript . You do occasionally run into a bug where something doesn't work consistently on a particular browser . The GWT folks consider those bugs . You can kind of pick what level of abstraction you want to work at . There are tradeoffs at each level , but GWT should support them . Also , full disclosure : I'm the dude in the video that Chi linked above , so you might say I'm pretty attached to GWT .
I have created two quite substantial GWT applications in my three years at Google . It delivers what it promises - my apps were far more interactive and far more ajax-y than my knowledge of Javascript and my Javascript tooling would have let me produce using other tools . I also found the apps more interactive and more fun than the purely server-side alternatives I had used before moving to it . It is not free of warts , but it is a very productive environment to do the kinds of apps I do . And do watch Kelly's presentation . It , and some of the others from I / O , give a really clear idea of what GWT can do . You will pretty quickly get a good idea of whether it is the right tool for the task you are envisioning .
I have been developing a green field application on GWT for a year and it has been surprisingly pleasant . The subset of Java used in GWT causes some headaches but nothing major after all . I didn't have too much JavaScript knowledge when I joined the project but I think that was not a problem . The common GWT related problems I have encountered had usually something to do with Ext GWT / GXT framework or FCKEditor integration .
Simply GWT rocks google is making " google wave " fully on GWT .
I think GWT does what it says on the tin ... Top 5 Reasons for choosing GWT : Tapestry can be overly complicated and the learning curve is pretty steep for new developers who are starting out joining the team . Esp . on larger projects . I found that I could develop " richer " applications using GWT seeing that my strength is Java not Javascript . In order for me to implement similar functionality using Tapestry I would have to hand write Javascript which would later become a maintenance nightmare . Browser compatibility , I would spend large amounts of time trying to get my hand written Javascirpt to work on all the different browsers ( like I said Javascript is not my strength :-) The GWT Compiler hides me from this which results in me spending more time writing features . Back button blues , GWT's History listener is handles the browsers back button in comparison to Tapestry . GWT has a smaller footprint because only the data is being sent across the wire apposed to refreshing the entire page . The list goes on but all in all , I am very happy to have made the change and have not looked back since .
I didn't know much Javascript when I tried to create my website . In fact , that is why I had been putting off creating the website . So for me , GWT made a huge difference as it enabled me to create a dynamic , cross-browser website that I definitely would not have been able to create without putting in significant effort into learning Javascript .
I've done a few projects over a few years and it is fantastic . Going back to JS / JSP / request based framework is really horrible . Don't want to give up compile time checks , unit tests in my IDE , IDE refactoring etc , sharing code between different tiers , solid set of widgets , incredibly well thought out framework . Can do so much more so much faster in a maintainable way .
There is a steep learning curve , but for really dynamic ui applications , there is just no way that you can build from hand in javascript as efficiently . What I mean in particular is for instance an application frontend for a service where all the searchable fields and result type s and length were completely unknown . For this type of thing , a dynamic runtime defined ui , there is nothing better than GWT in my opinion . The drawbacks are the steep learning curve ( especially for non-swing Java programmers , traditional request / response servlet api guys and gals ) and getting cornered into GWT once you make that decision .
String data passed to Java Applet by javascript is null when in Java applet
This question may look familliar but I've discovered some rather more pertinent information and tried some other things ( which are detailed below ) so to avoid confusion I've created another question . Here's the JavaScript ( on an aspx page ): pdfXML	?
is got from pdfData	?
which is a hidden field on the page containing the XML that contains base64	?
encoded pdf data which is passed to the java applet . All the other values being passed to the applet's WriteDocument	?
method have within range sensible values . The XML is like this ( the content of the PDF element is a lot bigger than displayed above , i've truncated the data for space reasons ; the PDF data is about 4Mb ) The signature of the Java method is : What happens is that somehow the xml string data is lost and by the time one gets into the Java the value of the PDFData	?
parameter is null . I've debugged into the JS and the pdfXML param of the js method CallApplet definitely has content . I've also tried to add a param tag in to the applet tag and set its value before calling the applet and used GetParameter()	C
from inside the applet . This results in a blank string rather than a null . This problem doesn't occur on every machine . Our QA department don't get this for example but since this is a client-side issue , one of our customers will probably see this . I'm utterly out of ideas here so any help would be appreciated ( with the obvious proviso that sadly I need to get this working rather than re-engineer this and the legacy systems the applet communicates with to avoid using an applet . )
Sorted the problem . How ? I took JRE 1.6 update 12 off and stuck update 7 ( which is the version we reccomend to those who use our website ) on my machine . Why update 12 stopped working I don't know . Why update 7 is stable I don't know . [ sigh ] It's things like this that make me glad I work mostly with a ' long time between releases ' framework like . net .
Detecting a 64-bit jre in a 32-bit browser ?
Is there any way to detect a 64-bit java install in a 32-bit environment ? The Java Deployment Toolkit detects nothing , but I was wondering if there was some secret browser way of detecting the 64-bit install client-side .
Sun's HotSpot JVM FAQ : When writing Java code , how do I distinguish between 32 and 64-bit operation ? There's	?
no public API that allows you to distinguish between 32 and 64-bit operation . Think of 64-bit as just another platform in the write once , run anywhere tradition . However , if you'd like to write code which is platform specific ( shame on you ) , the system property sun.arch.data.model has the value " 32 " , " 64 " , or " unknown " . You can access this like System.getProperty	C
( " sun.arch.data.model	C
") . This property will obviously only actually be set on Sun JVMs / JREs . You might also try to parse the results of System.getProperty	C
( " java.vm.name	C
") , but this will also be highly vendor specific .
I guess I could do this in an applet , but I was hoping to get this information before java was necessarily loaded or available .
HtmlUnit property undefined script error
I m submitting a form using java HtmlUnit package . I am able to get pages and submit forms but on one page I m getting a ScriptException error . The message is Cannot set property " disabled " of undefined to " 0 " I think it might be caused by a javascript method that tries to set a variable that has not been declared in the form but I m not sure .
Does viewing the same page in a browser produce a JS error ?
I just tested it again and just noticed the page that loads does have a JS error . Is there a way I can tell HtmlUnit to keep processing like ie does ?
Can you provide a public website to test against ? As I am not able to load the JS in https://mmlab1msslnx.fmr.com/mcwebadm/cgi-bin/edit_local.pl?operation=edit return_address=%2Fmcwebadm%2Fcgi-bin% 2Fmenu.pl selected=22020c341b11de96c3000423d43f1d Also , please use latest HtmlUnit 2.5 version .
I'm not able to provide a public test case . I'm working on creating one . I have checked and I'm using version 2.5 . I was hoping someone had seen something similar to this .
This was caused my a javascript error on the page that was being loaded . I set the webClient.getOptions()	C
. setThrowExceptionOnScriptError	C
( false ); but it still threw the exception . SOLUTION : If you catch the ScriptException the page is STILL fully loaded and you can just continue processing and ignoring the exception . Example of HTML that fails :
Should I use PHP or JSP for a chat website ?
I want to develop a website web chat application like yahoo . Only difference is that I want to make it web based not desktop . I will be implementing it in jsp / php with ajax . I want to know whether jsp or php will be better for this . What will be advantages or disadvantages of both . Which one of the two would you prefer and why ? Will jsp applicatioon will be slower then php ? I am thinking of using using struts with jsp and ajax . Will using of struts decrease speed ? I know jsp , java and struts but not php . Is php more difficult then jsp ?
How long is a piece of string ? Seriously . We don't know exactly what you want to do but I imagine most of the backend stuff will be very similar in difficulty between the two platforms . Most of the work will be platform independent front-end stuff .
It won't be slower because you are using one over the other . It will be slower only if your implementation is less efficient .
Whatever you choose keep in mind that web based chat app would probably need continuous updates from server to the clients ( so called Comet ) .
Use whichever one that you're a better programmer in . The task can be accomplished in either language just the same . You can argue endlessly about language features , the bottom line will be whatever works best for you .
JSP based web applications are a bit more harder to deploy than PHP based web applications , but you gain the ability of creating Servlets . PHP requires less server administration skills to setup properly and get running , is fast to learn , and allows fast creation of simple applications . None is better than the other , they are different in nature . Check your requirements , and take a decision based on that . If your requirements doesn't favor one over the other , choose whichever your team is more comfortable with .
+1 for basing your decision on * your requirements* .
Exactly ! Great answer . Just because you can program easier in PHP doesn't mean it will always be the best choice . The requirements should be used to point you in the right direction .
I've worked with both JSP and PHP . Even if I prefer PHP , I still work with JSP from time to time depending on my requirements . There is not really a better choice . It always , ** always ** depends on your requirements .
JSP isn't a language - it's just a view / presentation technology - so it's only to build a web Frontend - while the main programming happens somewhere else - in the Java Language , as a so-called Java Servlet . I personally like Java more , but PHP is okay , and if you only know PHP ( which I must assume from the questions :) ) you're better off doing it in PHP now - you can learn Java later ... Apart from that , the others asking for more background info are right - you need to see what technology meets your requirements best ...
People refer to JSP the same way as ASP.NET is referred to . It is a framework .
Which is incorrect , and therefore I point out how it really is :) No , really , maybe people not doing Java development themselves do that . Java folks neither say they build something in JSP instead of PHP , because JSP isn't a language , nor do they refer to JSP as a framework ( because it does not deliver a complete stack of functionalities ) - frameworks are things like struts , gwt , webwork , sitemesh - and even those only deliver the view part - a full stack web framework helps you with a lot more things than just the view .
If you know both well then choose any . But if facing difficulty then PHP is better to stay with . Reasons : fundamentally easy large no . of developer libraries are available . Easy to integrate with other scripting languages But structural syntax becomes a problem as they are so many in cumbersome manner . Use PHP tag library for that works just like JSTL . " Choosing language is not the problem but efficient implementation of code is the only hurdle . "
java equivalent of swfobject	?

looking for a javascript class like swfobject to embed java and have a simple fallback if the user doesn't have java or refuses the security prompt . thanks , Josh
appletobject may work , but I have not used it .
You could build one pretty easily . Have something like a div set up like this : Then add Java Plugin Detection ( builder ) to your JavaScript . Then if that returns true , then do something like :
Just embed the applet like you normally do and insert the fallback inside or insert a javascript snippet to remove the object : Besides param , you can add other elements , e.g. paragraphs with text or javascript calling some function to replace the object .
This helps ! I got a very strange problem while using applet to do batch file downloading from the server side . The Ajax request seems conflict with applet request , the applet file downloading interrupted with some socket exception . The applet works fine under JRE5.0 , it might be caused by our recent upgrade to JRE6.0 . div id= " java-applet " / div script var t ; function startApplet()	C
{ var	C
attributes	C
= { codebase : ' %= request.getContextPath()	C
% ' , code : ' %=appletClass% ' , archive:'applet / SignedApplet.jar ' , width : 0 , height : 0 } ; var	C
parameters = { para1:'value1 ' , para2:'value2 ' , java_arguments : ' -Xms64m -Xmx512m ' } ; var version = ' 1.6 ' ; var buildAppletTag	C
= function()	C
{ var	C
tag = ' applet	C
' ; for ( var attribute in attributes ) { tag += ( ' ' + attribute + ' = "' + attributes[attribute ] + '"') ; } tag += " " ; for ( var parameter in parameters ) { tag += ' param name= "' + parameter + '" value= "' + parameters[parameter ] + '" / ' ; } tag += ' / applet ' ; return tag ; } ; document.getElementById ( " java-applet ") . innerHTML	C
= buildAppletTag	C
( attributes , parameters , version ); clearTimeout ( t ); } t = setTimeout ( " startApplet()	C
" , 1000 ); // delayed / script
Any function / method in Java to implement a " freeze panes " -like sheet ?
We are using Java and Javascript to try to display a huge sheet with freeze panes , but it is being very difficult . Does someone know about a library , method , script or something , either free or commercial , to do this ? Thanks .
Not totally sure I understand what a sheet with freeze panes means - could you expand on this ?
It means to be able to display a huge sheet , keeping the first row and column freeze . The idea is to be able to scroll through the sheet without losing the view of the first columns or rows which usually contain the column or row titles .
After looking at http://blogs.zoho.com/general/freeze-panes-in-zoho-sheet , I assume you are looking for similar functionality in tables ? One way to do this would be to have two tables , one that was " frozen " rows ( or columns ) that grew or shrunk in size based on how many frozen you had , and the other was the dynamic table that grew or fell in size based on how many unfrozen there were .
Closing popups on session expiry
Here is the thing : my webapp has loads of popups and my boss wants ' em closed on session expiry , coz when session expires and an user presses refresh on a popup , he is being shown the logon page -> user logs on -> user is directed to the dashboard . Now , a dashboard screen in a popup is totally uncool . Here is where google got me : Have javascript to close popup onload . Generate this onload script into the response if session has expired ( checking session expiry from jsp and including onload script conditionally ) . Do you think this is a good way to it ? What is the best practice for this scenario ? P.S : I am not allowed to use AJAX
The best practice is to not use " loads of popups " . That aside , when you talk about closing popup in " onload " event what would really happen is user would refresh the popup and it would close ( which would be REALLY weird from user's standpoint ) OR user would get a prompt from the browser ( close this window ? yes / no ) which is equally weird .
@ChssPly76 -	~
yes , from an user standpoint , it's probably weird . But , designing data-oriented applications without pop-ups is one heck of a challenge .
I'm ok with popups as long as I don't need any of the information behind it . If I do , I get pissed at them and curse the designers .
The _only_ possible excuse for using popup windows is a requirement for application to function without javascript because then you can at least do some stuff via `
The best way would be an XMLHTTP request to check login and close them if required - do this periodically . Astute readers ( meaning everyone ) will notice that this is an AJAX request , but if you phrase it that way it might get accepted as whoever dictated that you ' aren't allowed to use AJAX ' is clearly an idiot .
@Luke the corporate IT teams of non-IT core companies are loaded with idiots who would tell you not to use AJAX :-) : And my boss is one of ' em !
Won't the periodic HTTP request keep the session alive ?
then they are screwed . and so are you if your boss reads that you just called him an idiot ...
@matt b : not if you keep record of the last user activity .
@matt b - George said what I was going to say :)
In a past life , I made a popup manager object that maintained what windows were open . You should probably make one of these if not already done . Then , you can use setTimeout	C
to call a function after so many minutes ( or whatever time you want ) have gone by . This will check for recent activity ( probably via AJAX ) and close the popup if you determine that the session has expired . If not , call setTimeout again with your new time , properly adjusted for most recent activity . ^^before the AJAX edit . Well , since you can't use AJAX , can you put something in the url that will tell you it's a popup ? Then you'll know not to show the login screen when the user hits reload .
If your boss is asking you to achieve this , without using AJAX , then you're in trouble . He should understand that the only connection a browser has to the server ( without refreshing the page ) is javascript ( what he understands to be ajax ) . The best way to do this is to setup a script on the pages to ask the server if the user is still logged in every 30 seconds or so . This script assumes you're using the jQuery framework for rapid development of javascript solutions . This also uses JSON ( Javascript Object-notation ) to test a return-value from the loggedin.php file . Bottom line , you need to use AJAX . Tell your boss there is no other way . If he still doesn't get it , ask him to balance his checkbook without using math .
Or just tell your boss that you're brilliant and figured out a way to do it with Javascript instead of AJAX
Well , the J in AJAX is javascript . If its not async ( A ) and not xml ( X ) based , then he can build a case saying that he's not using AJAX , unfortunately , the example uses JQuery and underneath the hood , it is using the A , J and X of AJAX .
An alternative way to implement modal dialogs in a web application is to : Model the dialog in a DIV , default styled to display : none ; On desired action , inject / append the Modal dialog DIV into the page source Reset the CSS display so the modal dialog DIV is visible , overlaid on top of the page by setting the CSS z-index property Make the modal dialog disappear upon either successful execution or the user cancelling out Because the modal dialog is part of the page source , the dialog will disappear when the session times out . This approach doesn't spawn supporting windows that can be orphaned as the poster is attempting to address . And it fits the requirement of not using AJAX . You can code these by hand , but I don't really recommend it because of having to support various browser . I suggest looking at the Yahoo User Interface . You can tailor it to suit your needs ( IE : only modal dialogs ) , and it would support AJAX if requirements change down the road . Beware of spawning modal dialogs from modal dialogs .
In theory , you could avoid AJAX by using a hidden flash widget ... But more practically , AJAX is the ' right ' solution , and I think you will have to talk to your boss , determine where this ' no AJAX ' rule came from , and convince him that AJAX is the best way to solve this problem . Does he think AJAX would be take too much time to implement ? If so , you should prove him wrong . Does he think it will be hard to maintain ? If so , show how simple the code to do this will be , and how widely used the common AJAX libraries are . If your boss is reasonable , then his goal is to what is best for the product , and you should be able to reason with him .
