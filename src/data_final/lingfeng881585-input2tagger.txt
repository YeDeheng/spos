Trouble	N
accessing	N
Java	N
classes	N
from	N
Firefox	N
extension's	N
Javascript	N

I'm	N
going	N
to	N
develop	N
a	N
Firefox	N
extension	N
which	N
uses	N
some	N
Java	N
classes	N
.	N
The	N
extension	N
gets	N
the	N
value	N
of	N
input	N
type=	N
"	N
file	N
"	N
fields	N
,	N
using	N
Javascript	N
.	N
The	N
Java	N
class	N
I'm	N
going	N
to	N
create	N
is	N
the	N
following	N
:	N
On	N
Javascript	N
,	N
I	N
have	N
to	N
use	N
Java	N
reflection	N
in	N
order	N
to	N
access	N
Java	N
classes	N
.	N
In	N
this	N
manner	N
I	N
can	N
create	N
my	N
Java	N
object	N
:	N
I've	N
been	N
trying	N
this	N
extension	N
on	N
Firefox-	N
3.5	N
b4	N
and	N
everything	N
goes	N
fine	N
,	N
but	N
when	N
I	N
try	N
it	N
on	N
Firefox-	N
3.0	N
.	N
10	N
I	N
get	N
the	N
following	N
exception*	N
:	N
For	N
example	N
,	N
putting	N
the	N
following	N
line	N
before	N
the	N
main	N
method	N
invokation	N
:	N
on	N
both	N
Firefox-	N
3.0	N
.	N
10	N
and	N
3.5	N
b4	N
I	N
get	N
an	N
alert	N
window	N
which	N
says	N
:	N
But	N
only	N
on	N
3.0	N
.	N
10	N
I	N
get	N
the	N
exception	N
,	N
ONLY	N
on	N
my	N
GNU	N
/	N
Linux	N
machine	N
.	N
On	N
Windows	N
XP	N
instead	N
I	N
have	N
no	N
problems	N
on	N
both	N
Firefox	N
versions	N
!	N
Note	N
that	N
on	N
both	N
Windows	N
and	N
Linux	N
the	N
Java	N
plugin	N
version	N
is	N
6	N
update	N
13	N
.	N
Where	N
am	N
I	N
wrong	N
?	N
Is	N
it	N
a	N
possible	N
bug	N
on	N
Firefox-	N
3.0	N
.	N
10	N
Javascript	N
engine	N
or	N
must	N
I	N
do	N
any	N
other	N
thing	N
before	N
getting	N
the	N
main	N
(	N
...	N
)	N
method	N
?	N

you	N
are	N
incorrectly	N
invoiking	N
the	N
method	N
using	N
;	N
which	N
is	N
passing	N
an	N
argument	N
of	N
type	N
java.lang.Class	N
[]	N
into	N
the	N
signature	N
that	N
is	N
expecting	N
a	N
String	N
object	N
.	N
simply	N
pass	N
the	N
parameters	N
object	N
in	N
as	N
it	N
is	N
.	N

public	N
Method	N
getMethod	N
(	N
String	N
name	N
,	N
Class	N
...	N
parameterTypes	N
)	N
throws	N
NoSuchMethodException	N
,	N
SecurityException	N
I	N
guess	N
he's	N
right	N
in	N
that	N
.	N

now	N
I	N
get	N
this	N
exception	N
:	N
InternalError	N
:	N
Unable	N
to	N
convert	N
JavaScript	N
value	N
to	N
Java	N
value	N
of	N
type	N
java.lang.Class	N
[]	N

try	N
changing	N
the	N
two	N
reflecting	N
lines	N
to	N
;	N
var	N
aStaticMethod	N
=	N
aClass.getMethod	N
(	N
"	N
main	N
"	N
,	N
parameters.getClass()	N
);	N
//	N
gets	N
the	N
main	N
(	N
String	N
[]	N
args	N
)	N
method	N
,	N
here	N
I	N
get	N
the	N
exception	N
*	N
var	N
myJava	N
=	N
aStaticMethod.invoke	N
(	N
null	N
,	N
parameters	N
);	N
removing	N
the	N
[]	N
initializers	N
since	N
they	N
already	N
seem	N
to	N
have	N
been	N
created	N
by	N
the	N
reflection	N
call	N
.	N

new	N
error	N
:	N
There	N
is	N
no	N
Java	N
method	N
java.lang.Class.getMethod	N
that	N
matches	N
JavaScript	N
argument	N
types	N
(	N
string	N
,	N
object	N
)	N
.	N
Candidate	N
methods	N
with	N
the	N
same	N
name	N
are	N
:	N
java.lang.reflect.Method	N
getMethod	N
(	N
java.lang.String	N
,	N
java.lang.Class	N
[]	N
)	N

assuming	N
your	N
complete	N
class	N
name	N
is	N
"	N
your.package.Firefox	N
"	N
you	N
could	N
do	N
:	N

how	N
do	N
I	N
set	N
the	N
"	N
args	N
"	N
value	N
?	N

ReferenceError	N
:	N
importPackage	N
is	N
not	N
defined	N

in	N
"	N
plain	N
"	N
rhino	N
this	N
is	N
supposed	N
to	N
work	N
sorry	N
:(	N

Hi	N
,	N
just	N
following-up	N
DFA's	N
comment	N
:	N
Related	N
info	N
::	N
https://developer.mozilla.org/en/Core_JavaScript_1.5_Guide/LiveConnect_Overview/JavaScript_to_Java_Communication	N

I've	N
already	N
tried	N
out	N
all	N
stuff	N
from	N
developer.mozilla.org	N
,	N
with	N
no	N
success	N
...	N

