Reading	N
an	N
email	N
string	N
from	N
a	N
cookie	N
in	N
java	N

My	N
application	N
needs	N
to	N
store	N
the	N
users	N
email	N
address	N
in	N
a	N
cookie	N
so	N
that	N
I	N
can	N
pre-populate	N
a	N
login	N
form	N
(	N
username	N
==	N
email	N
address	N
)	N
.	N
I	N
set	N
the	N
cookie	N
value	N
in	N
JavaScript	N
.	N
If	N
I	N
read	N
it	N
from	N
JavaScript	N
,	N
I	N
get	N
foo@bar.com	N
.	N
If	N
I	N
look	N
at	N
it	N
in	N
the	N
cookie	N
viewer	N
in	N
Firefox	N
I	N
get	N
foo@bar.com	N
.	N
When	N
I	N
try	N
to	N
read	N
it	N
on	N
the	N
server-side	N
in	N
Java	N
however	N
,	N
I	N
only	N
get	N
foo	N
.	N
Do	N
I	N
need	N
to	N
do	N
some	N
sort	N
of	N
encoding	N
/	N
decoding	N
here	N
?	N
If	N
so	N
,	N
how	N
do	N
I	N
do	N
it	N
in	N
a	N
way	N
that	N
can	N
be	N
decoded	N
by	N
both	N
JavaScript	N
and	N
Java	N
?	N
Thanks	N
in	N
advance	N
!	N
-Michael	N

You	N
need	N
to	N
escape	N
the	N
value	N
part	N
of	N
your	N
cookie	N
.	N

From	N
the	N
javax.servlet.http.Cookie	N
doco	N
for	N
setValue	N
(	N
String	N
):	N
Assigns	N
a	N
new	N
value	N
to	N
a	N
cookie	N
after	N
the	N
cookie	N
is	N
created	N
.	N
If	N
you	N
use	N
a	N
binary	N
value	N
,	N
you	N
may	N
want	N
to	N
use	N
BASE64	N
encoding	N
.	N
With	N
Version	N
0	N
cookies	N
,	N
values	N
should	N
not	N
contain	N
white	N
space	N
,	N
brackets	N
,	N
parentheses	N
,	N
equals	N
signs	N
,	N
commas	N
,	N
double	N
quotes	N
,	N
slashes	N
,	N
question	N
marks	N
,	N
at	N
signs	N
,	N
colons	N
,	N
and	N
semicolons	N
.	N
Empty	N
values	N
may	N
not	N
behave	N
the	N
same	N
way	N
on	N
all	N
browsers	N
.	N
I'm	N
guessing	N
you	N
need	N
to	N
BASE64	N
encode	N
it	N
on	N
the	N
way	N
in	N
(	N
via	N
JavaScript	N
)	N
and	N
on	N
the	N
way	N
out	N
(	N
via	N
Java	N
)	N

Please	N
see	N
post	N
below	N
about	N
equals	N
sign	N
...	N
(	N
what's	N
with	N
the	N
300	N
char	N
limit	N
on	N
comments	N
?	N
)	N

I	N
have	N
found	N
two	N
solutions	N
to	N
this	N
.	N
Here	N
is	N
the	N
first	N
one	N
.	N
Add	N
back	N
in	N
padding	N
to	N
Base64	N
encoded	N
strings	N
.	N
Inspiration	N
for	N
this	N
came	N
from	N
http://fi.am/entry/urlsafe-base64-encodingdecoding-in-two-lines	N
In	N
this	N
solution	N
,	N
the	N
JavaScript	N
stays	N
the	N
same	N
(	N
base64	N
encode	N
everything	N
)	N
and	N
the	N
server	N
side	N
looks	N
like	N
:	N
On	N
the	N
JavaScript	N
side	N
,	N
you	N
just	N
need	N
to	N
make	N
sure	N
you	N
base64	N
encode	N
the	N
values	N
:	N

The	N
second	N
solution	N
is	N
just	N
to	N
URLEncode	N
the	N
Base64	N
encoded	N
string	N
.	N
I'm	N
using	N
commons	N
codec	N
to	N
do	N
the	N
encoding	N
here	N
.	N
Java	N
Code	N
:	N
But	N
now	N
I	N
have	N
to	N
decode	N
it	N
on	N
the	N
JavaScript	N
side	N
as	N
well	N
...	N
Encode	N
:	N
Decode	N
:	N

