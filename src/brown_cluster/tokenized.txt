It's possible see all the references to an object in execution time ?
Is there a way to see all the references to an object in execution time ? I'm using Netbeans , this feature exist in it ? EDIT : No problem in using profilers to do this , I only need know the references , no matters how .
If you dump the heap and analyse it you get find all the references . Profilers like VisualVM and YourKit can do this for you . However its not possible to determine this dynamically . If you want to know all the things which refer to an object you must maintain a collection these yourself .
In Netbeans you can use the Find Usages feature to see where a particular class may have been referenced inside of a particular project . From the Project Explorer , select the class and right click > Find Usages . The results looks a bit like the following image :
Sorry , was not clear . I want the references in the execution time . All the refereces of a created object Unfortunately , there is no such feature available in Java . But , there is a way of being notified that there is no more reference to an object at runtime . The solution is to create a weak reference to the monitored object and associate it with a reference queue . When there will be no more hard reference to that object , the GC will sooner or later recollect it and enqueue the weak reference . You can check this with isEnqueued() . If you provide more information about your issue , may be we can give more tips tricks . EDIT To control all references to an oject , you may use the Proxy Pattern . Instead of setting references to your connection object , you create a proxy object containing a private instance of the connection object . Then , have your code call the proxy who will call the connection object itself , instead of having direct references to the connection . When you are done with the connection object , close it inside the proxy object . If other parts of the code still try to access that connection objects via the proxy , you will be able to detect it in the proxy when it is called . It is a trick you can use to find which part of the code is still ' referencing ' your object , so to speak . Hope this helps .
Ok , Netbeans show all the references to an object . First , run the project in debug mode CTRL + F5 , after , show the Loaded Classes Alt + Shift + 4 or Window- Debug- Loaded Classes . Choose the class will want to see the references and double click on it . Pause the execution and there is . In the top is the attributes of the object , and in the bottom , all references to it .
Java does not maintain reference counts , and if it did , these references would not be exposed normally .
Not very clear ... Do you mean a tool like http://www.eclipse.org/mat ?
I think the question is asking how to use an IDE , not Java reference madness . The Netbeans terminology is " Find Usages " and is supposed to be similar to Eclipse's " Find all references . "
Can be in the IDE or another way . I informed the IDE because this can be there and I don't know .
@Renato : It's not clear what you're after - references to an * object * at execution time , or all the code which references a class or method .
@Jon Skeet : Sorry , was not clear . I want the references in the execution time . All the refereces of a created object .
@Renato : Right . That's what I thought .
answer to the wrong question . Thankfully it was the answer to the question ** I ** am currently facing :-)
+1 very nice visual answer .
Just a bit curious about the references and a issue about connection remaining open after usage .
@Renato I have updated my solution with a suggestion to solve your issue .
@JVersty , Thanks for the answer . I am learning Java from a C++ background and have a nest of references that would be hard to clean up for JUnit purposes . Weak or Soft References look like they will help .
Need help with the menu names , my Netbeans is in portuguese .
Thanks for sharing the answer to your question and sharing it with the rest of us .
How to configure Eclipse for building external libs-requiring Java apps ?
I want to use several standard third-party libs ( e.g. Apache's log4j ) for a small Java project I'm working on . I know how to configure my IDE , Eclipse , so that these libraries are available during my development work , but I don't know how to build the distributions for my app so that , when necessary , these external libraries get properly installed in the target system . One approach I have seen is to treat these external libraries as if they were internal to the project , even checking them into git or subversion or whatever along with the code that is truly being developed . What I most dislike of this approach , at least for what I'm working with at the moment , is that the total disk footprint of these external libraries more than 10x the footprint of my app proper ( which , as I said , is pretty small and simple ) . Is there a better approach ? Thanks ! PS : I've heard about Maven and that it's supposed to handle these issues , but it looks like overkill for the relatively small and simple project I'm dealing with here .
I haven't built a java app in years without maven . No matter how big or small , having something manage dependencies for you is great . The dependency plugin is awesome for when you actually want to deploy to an end server and need to get all of your deps local . I don't think any project is too small for a simple POM file .
In all fairness , your question is not really about Eclipse but about project distribution . The plain vanilla solution , as you said , is to include those jars with your project in svn / git . Maven indeed can help , and it also has good integration with Eclipse too , natually , to ease the deployment cycle . I agree with you that Maven might be an overkill . For a middle ground solution , I'd look at ivy instead , and maybe gradle too . There is a truly awesome presentation titled " your next successful build " about this topic here .
Maven is great and all until you need to start doing development with others and not having a maven repository that everyone can access . This only becomes a problem when you create a module that your current project depends on and they than need to incorporate that dependency into the setup . Without having a maven repository to push these changes to it can get messy . If this is only a project you are working on , or internal to your company than maven might be a good idea or if you are only using third party libraries that are already available in public maven repos .
+1 a simple pom and local repo can be whipped up in a few minutes . You can use Maven Assembly plugin to build a . zip with all your dependencies packaged up for deploy . As your project / team grows you can always setup a distributed repo to ease your integration needs . Thats the beauty of maven you can use as much or as little suits your needs .
Are there any good examples on how to organize JavaScript code ?
I've learned JavaScript and know how to write OO JavaScript , and I can accomplish those assignment like autocomplete , photo gallery with JavaScript , but I just don't know how to organize the codes . For example , when and where to define a function , how to organize those variables , etc . So I'm looking for some good and simple examples of JavaScript project to learn the good practices . Can you suggest any ? ( such as a list data filter ) .
http://www.klauskomenda.com/code/javascript-programming-patterns That link discusses many different javascript organization patterns , including the one I prefer , the Revealing Module Pattern . More information about the Revealing Module Pattern is here : http://www.wait-till-i.com/2007/08/22/again-with-the-module-pattern-reveal-something-to-the-world
Thanks . Now I know that what I want is patterns .
Specifying additional arguments to class creation when deserializing JSON
Jackson has the handy feature that you can specify custom constructors or static factory methods to use when creating a class , getting parameters from the JSON object . However , I'm not sure what the best way is to pass an additional constructor argument to a deserialized object . For example , I'd like to be able to have Jackson use this JSON to construct and initialize the following class : My first instinct was that I needed to create some sort of factory object : But Jackson doesn't have a straightforward way to plug that in -- most of the methods I've found ( or annotation-based options ) use static factory methods . The answer must not use global / static variables -- I want to configure the Configuration object on a per- ObjectMapper basis . My preferred answer should : Be brief ! I know there are multiple ways to approach this , I'm looking for the simplest one Continue to leverage Jackson's ability to use reflection and interpret data-binding annotations for the non-constructor properties , rather than writing a Deserializer that has to be updated every time I add or edit a settable property Should not require me to manually read and buffer the object properties from JSON ( i.e. don't duplicate BeanDeserializer._deserializeUsingPropertyBased ) Work with annotation mix-ins I've explored setting up custom CreatorContainers or DeserializerProviders , but I haven't come up with a method that meets my requirements yet .
There is no current facility to do this ; would " ability to inject values during deserialization " ( see http://jira.codehaus.org/browse/JACKSON-406 ) do this ? You might want to ask this on Jackson user ( or dev ) mailing list , as this is one of higher priority features that hopefully will be worked on for Jackson 1.9 . One possibility is to just use @JsonCreator , decorate all parameters with @JsonParameter , and access value from there -- if there is no matching property , you will get null as value . This is not optimal , but if you can access value you need ( via ThreadLocal , filled prior to calling deserialization ) you would at least be able to solve this .
Thanks for the answer . JACKSON-406 wouldn't exactly address the use case I had in mind ( though it would be useful in its own right ) , but I decided to take a different approach anyway . I was pretty sure that this would at least be possible , but I eventually came to the conclusion that I'd have to nearly-duplicate an unacceptable amount of library code in order to accomplish it .
( I thought I'd be able to create a BeanDeserializer with a CreatorContainer that returned a custom PropertyBased Constructor that invoked a non-static method , but gave up when I figured out that the factory method is reflectively invoked statically . ) ThreadLocal was also a reasonable suggestion -- I actually thought of it myself after posting the question .
Yes , very good detective work . :-) Alas , I agree in that this particular feature is pretty hard to do without modifying code lib code .
BeanMap to HashMap conversion ?
What is the easiest and most efficient way of converting a List BeanMap to a List HashMap String , String ? The BeanMap is based on an underlying POJO with 2 fields : 1 string , 1 date
BeanMap implements Map String , Object , so you could just treat it as such .
what would you like the map to map , i.e. what would be the key and value ?
K = field name of Bean , V = value of field in bean . SO basically it is a copy from 1 map to other
+1 @BalusC that would be it . Good job .
Dynamic text box list
I am trying to make a text box list using jquery . What I want is to have text that changes into a textbox when clicked . Then I want it to return to text afterwords . My problem is getting the dynamically created textboxes to focus , change the textbox text , be removed and change the text . This is my code : . l is the text while #ltb is the textbox . I need the #ltb to change value , focus , and be removed . I need . l to change once #ltb is removed . Can someone tell me how to do this ?
Instead of . click ( function ( ) {} ) use .live('click ' , function ( ) {} ) or .delegate('click ' , function ( ) {} ) . Analogically to . blur() . This is necessary because elements are dynamically added to the document and don't have added event listener to them .
A working revision here - notice ( as pepkin said ) the live , also I moved the removal of the input text area . http://jsfiddle.net/TrowthePlow/Yp6Yj/1
http://jsfiddle.net/psw4d
Can we get a small sample page with content ? Also , why remove the text , why not just set display : none ?
Great !!! Thanks that works perfectly .
how to add element within an element in html
i need to add a element div and within that div i need to add a label element how to do that .....?? i have a div element sample in html .. div id= " sample " / div within that div element i add another div element with id " s " then i need to a label within the div id= " s " how to do that ????????
Note that HTMLElementNodes do not have a getElementById method .

You were close . http://jsfiddle.net/FzhYz

possible duplicate of [ Why won't this script append a child div element ? ] ( http://stackoverflow.com/questions/5924420/why-wont-this-script-append-a-child-div-element )
it is not working ............
thanks it is working fine ..........................
a problem http://jsfiddle.net/saravanabalaji/XHV7X/3 . look at this . when we click " gaming " then " os " a textbox will appear . when we again click os the textbox will disappear . but the problem is when we again click the browser the os and textbox must disappear but os alone disappear .. suggestion ...........
thanks . it is working ....................................
How to force JSON-lib's JSONObject.put ( .. ) to escape a string containing JSON ?
When using JSON-lib's JSONObject , how can I stop the put method from storing a String which contains JSON as JSON rather than as an escaped string ? For instance : prints : and I want it to print : Yes , I realize this is obnoxious . However , this is in support of a JSON serialization pipeline for which , for interoperability's sake , this is the expected behavior . There are cases in which we would be serializing user input which may be / contain valid JSON . We wouldn't want the user input to become a part of the JSON object that we're serializing said input to . Manual escaping doesn't work because it causes JSON-lib to escape the \ characters : Output : At this point , any workarounds to enable manual selective escaping of a complex JSON object would completely negate the value of using JSON-lib in the first place . Also , I understand that this question has been asked before , but unfortunately I cannot accept its answer so easily . JSON-lib is a heavily-used dependency in many areas of my project and swapping it out would be a big undertaking . I need to be absolutely sure that there's no way to achieve this goal with JSON-lib before I can entertain a swap to Jackson , simple-json , or Gson .
This worked for me with json-lib 2.4 : The output is : Is that a possible solution for you ? UPDATE : Revised my answer with a possible solution
Use single quotes to quote the string . From the documentation : Strings may be quoted with ' ( single quote ) . Strings do not need to be quoted at all if they do not begin with a quote or single quote , and if they do not contain leading or trailing spaces , and if they do not contain any of these characters : { } [ ] / \ : , = ; # and if they do not look like numbers and if they are not the reserved words true , false , or null . So modifying your example : Produces : Note how quotedJsonStringValue has been treated as a string value and not JSON , and appears quoted in the output JSON .
I would consider it , but per the interoperability requirement this serialization pipeline must be compatible with an existing system for which this is a somewhat common use case .
It is a specific existing legacy system with which this one must interface . The system transports untrusted JSON as a properly escaped string rather than as part of the object itself . I need to replicate this behavior .
Well then what about my previous suggestion but applied directly after json-encoding your stuff ? Means : Pre-escape the special fields , json-lib encode everything and finally post-deescape those special fields . But that's quite an effort tho not that hard to achieve with regex .
Per the question " At this point , any workarounds to enable manual selective escaping of a complex JSON object would completely negate the value of using JSON-lib in the first place . " -- especially if said manual escaping takes place post object serialization . I'd rather deal with swapping out the library at that point .
Also , it's not that easy to achieve with regex . For security's sake this needs to be a guaranteed solution that doesn't fall susceptible to weird edge cases , and this type of escaping must only be performed on a specific field in the JSON object .
I thought so but you said that replacing json-lib is very hard too as your environment depends on it . I'm sorry but I am out of crazy ideas :/ Well one last one : Have you thought about patching json-lib ?
I'd be happy to write a patch to JSON-lib and submit it , but if it isn't accepted I don't want to maintain it myself . Swapping it out will be a pain , but it's the right thing to do over hack-like workarounds or maintaining my own patch to it .
I do appreciate your effort , though . I think this is just an intractable problem .
Found a solution . I am still looking for a way to achieve the same result with JSONObject , hang tight :)
Found no easy way tih JSONObject so far but JsonBuilder and JsonStringer seem to work fine . I modified my answer
You sir ( madam ? ) , kick ass ! Thank you !
Sir is correct :) You are welcome . I am going to work with json-lib in the near future so I could invest a deeper look .
As far as I understood the op the field-content is created by users and may contain anything including quotes of any kind and / or json . Would that work with your example , too ?
@marsbear , if the data could include single-quotes , then yup , they would need to be escaped or stripped . Using object() . key() . value() would definitely be easier , I just chimed in because @Ben seemed to need to a workaround with just JSONObject .
Thanks for the update !
How do I convert an HTML Entity Number into a character using plain JavaScript or jQuery ?
I'm looking for a way to convert HTML entity numbers into a character using plain JavaScript or jQuery . For example , I have a string that looks like this ( Thank you , jQuery ! Punk . ) And what I need is : I've found String.fromCharCode() where I can get the character with just the decimal value , but I'd like to see if anyone else has a solution before I possibly reinvent the wheel . :)
http://jsfiddle.net/durilai/tkwEh
The jQuery way looks nicer , but here's a pure JS version if you're interested :
No need to use jQuery for this simple task : The same principle can be applied to #xHHHH ; and &name ; entities .
That s not an entity but a [ normal character reference] ( http://www.w3.org/TR/html401/charset.html#h-5.3.1) .
This looks to be the simplest and most robust . Thanks !
This worked but as I explore corner cases I'm concerned it's not going to scale well into different use cases . I did upvote it as it strikes me as very useful , just not as robust as I think I might need going above and beyond the initial use case above .
looking for a NoSql DB to Embed into my Java Application
looking for a NoSQL DB to Embed into my Java Application . so far I only found OrientDB as a Embeddable DB in Java Application . Is there any other options ? Thanks , Mohammad
Here are some alternatives : JDBM An embeddable Java only key value store Berkeley DB Comes in different flavours : Native key value store library with Java bindings , pure Java key value store or native XML database with Java bindings . Kyoto cabinet Native key value store with Java bindings
iBoxDB for java can embed into java application android application , pure java nosql database , zero configuration , copy and run . store data to file or memory https://github.com/iboxdb/forjava
You are doing this so you can deploy your application without having users install a database correct ? ( e.g. MySQL , Oracle ) .
@Dennis I need to open and edit a large binary file in my Java Application . so i decided to decode the binary file into a DB and make it editable in DB and save it back to binary file at the end .
JDBM is now Mapdb - http://www.mapdb.org / . Looks like it will work well for me .
@Ben : Very interesting . Thanks for this information .
