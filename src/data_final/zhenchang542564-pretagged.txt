How	R
would	V
I	O
write	V
a	D
Java	^
regex	^
that	O
gets	V
the	D
contents	N
of	P
a	D

I'm	L
trying	V
to	P
integrate	V
analytics	N
into	P
my	D
GWT	N
application	N
.	,
To	P
do	V
this	D
,	,
I'm	L
calling	V
a	D
service	N
that	P
returns	V
a	D
String	N
of	P
HTML	^
that	O
needs	V
to	P
be	V
parsed	A
and	&
eval'ed	V
.	,
I	O
need	V
a	D
regex	N
that	O
looks	V
for	P
and	&
grabs	N
either	&
1	$
)	,
the	D
body	N
of	P
the	D
tag	N
or	&
2	$
)	,
the	D
contents	N
of	P
the	D
"	,
src	^
"	,
attribute	V
.	,
I	O
want	V
to	P
eval	^
both	$
of	P
these	O
with	P
JavaScript	^
.	,
I'm	L
happy	A
with	P
assuming	V
that	O
if	P
a	D
"	,
src	^
"	,
attribute	V
exists	V
,	,
the	D
body	N
can	V
be	V
ignored	V
.	,
Thanks	N
,	,
Matt	^

This	D
question	N
is	V
really	R
confusing	A
,	,
Java	^
!	,
=	^
JavaScript	^

I	O
need	V
to	P
do	V
the	D
parsing	N
of	P
HTML	^
with	P
Java	^
.	,
After	P
getting	V
the	D
JavaScript	N
,	,
I'll	L
eval	P
it	O
.	,
Oh	!
,	,
and	&
I'm	L
using	V
GWT	^
,	,
so	P
Java	^
/	,
is	V
JavaScript	^
.	,
;-)	E

It	O
seems	V
like	P
there's	L
got	V
to	P
be	V
a	D
better	A
way	N
to	P
do	V
what	O
you're	L
trying	V
to	P
do	V
.	,
What	O
you	O
propose	V
is	V
a	D
very	R
unnatural	A
pairing	N
(	,
regex	N
to	P
find	V
js	D
tag	N
&	&
then	R
eval	A
while	P
using	V
GWT	^
)	,

Someone	N
needs	V
to	P
tag	V
this	D
with	P
'	,
GWT	^
'	,
or	&
'	,
Google	^
Web	^
Toolkit	^
'	,
.	,
Also	R
,	,
please	V
make	V
it	O
more	R
clear	A
in	P
the	D
question	N
that	P
you	O
are	V
using	V
GWT	^
.	,
Otherwise	R
,	,
this	D
question	N
doesn't	V
make	V
much	A
sense	N
(	,
better	A
ways	N
to	P
do	V
the	D
same	A
thing	N
in	P
a	D
js	S
context	N
)	,
.	,

To	P
match	V
the	D
body	N
of	P
the	D
tag	N
,	,
you	O
can	V
try	V
something	N
like	P
which	D
you	O
want	V
to	P
match	V
case-insensitively	R
.	,
Works	V
assuming	V
there	R
is	V
no	D
""	,
appearing	V
in	P
the	D
actual	A
script	N
body	N
and	&
no	R
"	,
>	~
"	,
in	P
the	D
attributes	N
for	P
the	D
tag	N
.	,
You	O
can	V
add	V
whitespace	^
globbers	^
to	P
the	D
regexp	N
to	P
make	V
it	O
more	R
robust	A
.	,
Note	V
the	D
use	V
of	P
.	,
*	,
?	,
to	P
make	V
sure	R
the	D
scanning	V
stops	V
at	P
the	D
first	R
closing	A
tag	N
.	,
To	P
add	V
the	D
src	N
attribute	N
,	,
you	O
can	V
try	V
and	&
use	V
the	D
second	A
submatch	N
to	P
get	V
'	,
src	V
'	,
,	,
and	&
third	A
to	P
get	V
the	D
body	N
.	,
Again	R
,	,
you	O
might	V
want	V
to	P
add	V
whitespace	^
globbers	^
.	,
But	&
would	V
be	V
best	A
off	R
by	P
running	V
the	D
thing	N
through	P
a	D
proper	A
HTML	N
/	,
XML	^
/	,
SGML	^
parser	^
,	,
because	P
regexps	^
can	V
blow	V
up	T
in	P
special	A
cases	N
.	,

You	O
could	V
use	V
something	N
like	P
this	D
:	,
The	^
regex	N
uses	V
the	D
lazy	A
star	N
quantifier	^
and	&
should	V
work	V
in	P
most	A
cases	N
but	&
it	O
could	V
certainly	R
be	V
improved	V
upon	T
.	,
It	O
will	V
match	V
in	P
$1	$
the	D
attributes	N
of	P
the	D
script	N
tag	N
,	,
and	&
in	P
$2	$
the	D
body	N
.	,
You	O
can	V
then	R
check	V
for	P
the	D
src	N
attribute	V
in	P
$1	$
(	,
if	P
it's	L
not	R
empty	A
)	,
.	,

How	R
about	P
to	P
start	V
with	P
.	,
You	O
may	V
need	V
to	P
customize	V
it	P
a	D
bit	N
to	P
accept	V
the	D
src	N
attribute	V
with	P
single	A
quotes	N
or	&
without	P
quotes	N
.	,
ignore	V
white	A
between	P
the	D
'	,
script	N
'	,
and	&
'	,
'	,
You	O
also	R
must	V
use	V
the	D
DOTALL	N
mode	N
to	P
ensure	V
the	D
.	,
captures	V
newlines	V
.	,

Your	D
answer	N
won't	V
handle	V

Agreed	!
.	,
There	X
are	V
many	A
cases	N
it	O
won't	V
handle	V
(	,
like	P
the	D
type	N
attribute	V
of	P
the	D
script	N
tag	N
)	,
.	,
I	O
suggested	V
this	D
as	P
a	D
start	N
to	P
build	V
from	P
.	,

and	&
it	O
will	V
match	V
everything	N
between	P
first	A
and	&
last	R
which	O
wouldn't	V
work	V
nicely	R
when	R
there	R
are	V
multiple	A
scripts	N
on	P
the	D
page	N

Must	V
it	O
be	V
a	D
regex	N
?	,
You	O
can	V
use	V
the	D
DOM	N
to	P
obtain	V
such	A
information	N
,	,
here	R
is	V
a	D
trivial	A
example	N
of	P
getting	V
the	D
contents	N
of	P
the	D
BODY	N
tag	N
,	,
you	O
could	V
apply	V
it	O
to	P
whatever	D
you	O
like	V
:	,

+1	$
Yes	!
!	,
Parsing	V
non-regular	A
strings	N
with	P
regular	A
expressions	N
is	V
WRONG	A
!	,

+1	$
.	,
I	O
love	V
regex	N
,	,
but	&
use	V
the	D
right	A
tool	N
for	P
the	D
job	N
.	,
regex	N
is	V
the	D
wrong	A
tool	N
for	P
this	D
job	N
.	,

While	P
I	O
agree	V
in	P
principle	N
,	,
he's	L
trying	V
to	P
do	V
this	D
via	P
the	D
GWT	V
which	O
uses	V
java	N
to	P
create	V
javascript	N
.	,

This	D
seems	V
to	P
do	V
what	O
you	O
want	V
:	,
That	O
being	V
said	V
,	,
you	O
would	V
probably	R
be	V
better	R
off	O
using	V
something	N
like	P
Tag	^
Soup	^
if	P
it	O
is	V
at	P
all	D
possible	A
.	,

I'm	L
marking	V
this	D
as	P
the	D
correct	A
answer	N
since	P
it	O
does	V
what	O
I	O
originally	R
wanted	V
.	,
Also	R
,	,
laz	N
provided	V
me	O
with	P
the	D
secondary	A
answer	N
(	,
below	R
)	,
that	P
I	O
needed	V
for	P
the	D
final	A
solution	N
.	,

Is	V
that	D
correct	A
?	,
I	O
would	V
think	V
the	D
last	A
peren	N
should	V
be	V
inside	P
the	D
tag	N
like	P
this	D
:	,
]*	E
src	E
=[	E
'	,
\	E
"	E
]	E
(	E
[^	E
'	,
\	E
"	E
]*	E
)	E
[	E
'	,
\	E
"	E
][^	E
>	E
]*	E
>	E
|[^	E
>	E
]*	E
>	E
(	E
[^	E
<	E
]*	E
))	E
because	P
I	O
believe	V
script	N
tags	V
not	R
specified	A
always	R
with	P
a	D
closing	V
node	N
,	,
not	R
shorthand	N
,	,
so	R
,	,
never	R
/	,
>	~

You	O
are	V
technically	R
correct	A
,	,
which	O
is	V
the	D
best	A
kind	N
of	P
correct	A
of	P
course	N
,	,
except	V
that	D
HTML	N
in	P
the	D
wild	A
can	V
certainly	R
be	V
malformed	A
and	&
if	P
a	D
browser	N
can	V
render	V
it	O
(	,
or	&
ever	R
did	V
)	,
,	,
be	V
assured	A
someone	N
once	R
wrote	V
it	O
that	D
way	N
!	,
Since	P
Matt	^
seems	V
to	P
have	V
controlled	V
the	D
HTML	N
being	V
parsed	V
though	P
,	,
he	O
might	V
not	R
have	V
needed	V
to	P
handle	V
that	D
scenario	N
.	,

Thanks	N
for	P
all	X
the	D
great	A
suggestions	N
everyone	N
.	,
I	O
quickly	R
discovered	V
it's	L
not	R
possible	A
to	P
use	V
Java's	^
Regex	^
API	^
in	P
GWT	^
and	&
was	V
able	A
to	P
do	V
what	O
I	O
wanted	V
with	P
JSNI	^
.	,
Unfortunately	R
,	,
I	O
ran	V
into	P
additional	A
issues	N
as	P
documented	V
in	P
the	D
following	N
thread	N
:	,
http://groups.google.com/group/Google-Web-Toolkit/browse_thread/thread/ac2589369ddec8a3	U

I	O
guessing	V
that	P
the	D
call	N
to	P
eval	^
(	E
scripts[i]	E
.	E
getAttribute	E
(	E
"	E
src	E
"))	E
doesn't	V
not	R
load	V
the	D
URL	N
that	D
src=	N
""	,
points	N
to	P
.	,
It	O
is	V
simply	R
trying	V
to	P
execute	V
the	D
actual	A
URL	N
string	N
as	P
JavaScript	^
.	,
You	O
need	V
to	P
figure	V
out	T
how	R
to	P
load	N
the	D
contents	N
of	P
that	D
URL	N
and	&
eval	N
it	O
.	,

Ugh	!
,	,
I	O
=	,
I'm	L
and	&
doesn't	V
not	R
=	,
does	V
not	R

Thanks	N
for	P
the	D
suggestion	N
.	,
It	O
allowed	V
me	O
to	P
solve	V
my	D
problem	N
.	,
Here's	L
the	D
solution	N
I	O
came	V
up	T
with	P
:	~
http://groups.google.com/group/Google-Web-Toolkit/msg/0d076f647a4472bc	U

