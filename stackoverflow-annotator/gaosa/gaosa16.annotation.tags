164105		Testing onbeforeunload events from Selenium	V N N P ^		Wed Sep 02 2015 18:17:01 GMT+0800 (Malay Peninsula Standard Time)
164105		I'm trying to write a Selenium test for a web page that uses an onbeforeunload event to prompt the user before leaving . Selenium doesn't seem to recognize the confirmation dialog that comes up , or to provide a way to hit OK or Cancel . Is there any way to do this ? I'm using the Java Selenium driver , if that's relevant .	L V P V D ^ N P D N N O V D N N P V D N P V , ^ V V P V D N N O V T , & P V D N P V A & V , V R D N P V D , L V D ^ ^ N , P L A ,		Wed Sep 02 2015 18:17:01 GMT+0800 (Malay Peninsula Standard Time)
164105		Warning : this gives an alternate solution Watij -- http://watij.com -- can help here . Or if you're comfortable with ruby , watir can help -- http://wtr.rubyforge.org/install.html	N , O V D A N ^ , U , V V R , & P L A P ^ , L V N , U		Wed Sep 02 2015 18:17:01 GMT+0800 (Malay Peninsula Standard Time)
164105		You could write a user extension ( or just some JavaScript in a storeEval etc ) that tests that window.onbeforeunload is set , and then replaces it with null before continuing on from the page . Ugly , but ought to get you off the page .	O V V D N N , & R D ^ P D ^ G , O V D ^ V V , & R V O P A P V P P D N , A , & V P V O T D N ,		Wed Sep 02 2015 18:17:01 GMT+0800 (Malay Peninsula Standard Time)
164105		I didn't end up doing this ( my requirements changed such that I was better off using a regular alert anyway ) , but this looks like it would do the trick , and is close to how Selenium handles testing for other alerts .	O V N T V D , D N V R P O V R O V D A N R , , & D V P O V V D N , & V A P R ^ V V P A N ,		Wed Sep 02 2015 18:17:01 GMT+0800 (Malay Peninsula Standard Time)
164105		it was just a matter of adding ` js_eval " window.onbeforeunload =null "` before an open for me . ( selenium-client in Ruby , but you should be able to easily translate to other languages )	O V R D N P V , ^ , ^ ^ ^ P D A P O , , ^ P ^ , & O V V A P R V P A N ,		Wed Sep 02 2015 18:17:01 GMT+0800 (Malay Peninsula Standard Time)
164105		When I was confronted with limited control which I had over browser using Selenium , I turned to MozLab plugin which solved my problem if only for one browser platform .	R O V V P A N P O V T N V ^ , O V P ^ V O V D N P A P $ N N ,		Wed Sep 02 2015 18:17:01 GMT+0800 (Malay Peninsula Standard Time)
164105		I've just had to do this for an application of mine where the onbeforeunload handler brings up a prompt if a user leaves a page while a document is in an unsaved state . Python code : The Java equivalent would be : If the alert does not exist , the code above will fail with a NoAlertPresentException so there is no need for a separate test to check the existence before accepting the prompt . I'm running Selenium 2.43 . 0 but I think this has been doable for a while now . In cases where I don't want the prompt to come up at all because that's not what I'm testing , I run custom JavaScript in the browser to set window.onbeforeunload to null before leaving the page . I put this in the test teardown code .	L R V P V D P D N P O R D ^ N V T D A P D N V D N P D N V P D A N , ^ N , ^ ^ N V V , P D N V R V , D N P V V P D ^ P X V D V P D A N P V D N P V D A , L V ^ $ , $ & O V D V V R P D N R , P N R O V V D V P V T P R P L R O L V , O V A ^ P D N P V ^ P A P V D N , O V D P D N N N ,		Wed Sep 02 2015 18:17:01 GMT+0800 (Malay Peninsula Standard Time)
