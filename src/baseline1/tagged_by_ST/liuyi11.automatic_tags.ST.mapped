JAAS_G tomcat_G login_N module_N possible_A method_N to_P pass_V ip_N address_N
I've_N been_V looking_V into_P a_D way_N of_P passing_V the_D client_N ip_N as_R well_R as_P the_D userid_N and_& password_N from_P a_D JAAS_N login_N page_N to_P the_D JAAS_N login_N module_N implementation_N in_P my_D web_N code_N ._. JAAS_N only_R allows_V the_D user_N id_N and_& password_N to_P be_V passed_V to_P the_D login_N module_N ._. My_D idea_N is_V to_P have_V a_D java_N script_N code_N to_P append_V the_D ip_N address_N to_P the_D user_N id_N and_& then_R call_V the_D form_N submit_V ._. I_O just_R don't_N have_V the_D right_A java_N script_N code_N to_P do_V this_D ._. Can_V you_O help_V ?_. The_D web_N page_N has_V two_$ input_N fields_N ,_, j_userid_N and_& j_password_N ,_, which_D the_D JAAS_^ code_N knows_V to_P look_V it_O ._. So_P what_D javaScript_N code_N can_V I_O use_V to_P add_V the_D ip_N address_N to_P the_D j_userid_N field_N before_P the_D form_N submit_V ._. I_O was_V thinking_V of_P '_G ip-address_A #userid_N '_'' and_& then_R in_P my_D login_N module_N I'd_N take_V the_D ip_N address_N off_P the_D userid_N ._.
Sorry_^ ,_, I_^ don't_^ think_V there_X is_V a_D way_N to_P obtain_V the_D ip_N on_P the_D client_N side_N ,_, in_P plain_A Javascript_^ ._. Testing_V the_D remote_A ip_N on_P the_D server_N side_N is_V probably_R not_R a_D solution_N if_P you_O don't_V control_V the_D infrastructure_N between_P the_D client_N and_& the_D server_N (_N load-balancers_N ,_, proxies_N ..._: )_$ ._. If_P you're_N confident_A the_D remote_A ip_N is_V the_D ip_N of_P the_D client_N ,_, you_O should_V be_V able_A to_P hack_V a_D tomcat_N Valve_N or_& a_D servlet_N filter_N ._.
I_O can_V get_V the_D ip_N address_N onto_P the_D page_N in_P a_D hidden_A field_N using_V a_D JSF_N bean_N ._. The_D problem_N is_V passing_V it_O through_P to_P the_D JAAS_N login_N module_N ._.
I_O created_V these_D two_$ javaScript_N functions_N ._. addIpSubmit_N is_V called_V from_P a_D login_N button_N ._. You_O can_V see_V I_O have_V a_D bean_N to_P put_V the_D ip_N address_N into_P a_D hidden_A field_N ._. The_D j_username_G JAAS_G field_N is_V also_R hidden_V and_& is_V filled_V in_R by_P the_D addIpSubmit()_N function_N ._. It_O mungs_V the_D ip_N to_P the_D user_N name_N and_& calls_V the_D JAAS_^ submit_V functions_N ._. Then_R in_P the_D login_N module_N I_O get_V the_D ip_N address_N and_& user_N name_V out_R ._. Just_R remember_V that_P the_D FacesContext.getCurrentInstance()_N ._. getExternalContext()_N ._. getRemoteUser()_N now_R has_V the_D ip_G #userid_G in_P it_O ._.
