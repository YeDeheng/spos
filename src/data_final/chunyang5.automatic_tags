251865	Java -> Apache Commons StringEscapeUtils -> escapeJavaScript	^ ^ ^ ^ ^ G U
251865	For a very simple ajax name lookup , I'm sending an id from the client webpage to the server ( Tomcat 5.5 , Java 5 ) , looking it up in a database and returning a string , which is assigned to a javascript variable back in the client ( and then displayed ) . The javascript code that receives the value is pretty standard : To return the string , I originally had this in the server : Which worked perfectly , if unsafe . Later , I replaced it with : But while safer , the resulting string can't be properly displayed if it contains special chars like " " . For instance , using : sends : to the client . The question : is there a simple way to parse the resulting string in Javascript or is there an alternate escape function I can use in java that would prevent this issue ?	P D R A N N N , L V D ^ P D N N P D N , ^ $ , ^ $ , , V O T P D N & V D N , O V V P D N A N P D N , & R V , , D A N O V D N V R A , P V D N , O R V D P D N , O V R , P A , R , O V O P , & P A , D V N V V R V P O V A N V , , , P N , V , V , P D N , D N , V R D A N P V D V N P ^ & V R D N V V O V V P N O V V D N ,
251865	The following works in every browser I've tried : Perhaps your string is being escaped twice by mistake .	^ V V P D N L V , R D N V V V R P N ,
251865	Yes , I think in this particular case the escape was unnecessary ( see my other comment below )	! , O V P D A N D V V A , V D A N P ,
251865	Actually , now that I read it over , I think I actually don't need to escape the string I'm sending back at all ... That is , StringEscapeUtils.escapeJavaScript would be useful if the resulting value was printed in the page , like : Or am I missing something and there would still be a valid reason to do the escape in the original case ? ( when it is returned as a series of bytes back to an ajax onreadystatechange handler and assigned to a js variable )	R , R P O V O R , O V O R V V P V D N L V R P X ~ O V , ^ V V A P D A N V V P D N , V , & V O V N & R V R V D A N P V D V P D A N , , R O V V P D N P S N P D ^ ^ ^ & V P D S A ,
