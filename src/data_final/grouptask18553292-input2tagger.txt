JavaScript	N
minification	N
workflow	N
with	N
Maven	N

I	N
am	N
wondering	N
about	N
any	N
"	N
best	N
practices	N
"	N
to	N
integrate	N
a	N
"	N
modern	N
JavaScript	N
build	N
workflow	N
"	N
into	N
a	N
Maven	N
build	N
that	N
produces	N
a	N
WAR	N
artifact	N
.	N
I	N
have	N
found	N
several	N
maven	N
plugins	N
that	N
handle	N
concatenation	N
and	N
minification	N
:	N
WRO4J	N
:	N
https://code.google.com/p/wro4j/wiki/MavenPlugin	N
Minify	N
Maven	N
Plugin	N
:	N
https://github.com/samaxes/minify-maven-plugin	N
YUI	N
:	N
http://alchim.sourceforge.net/yuicompressor-maven-plugin	N
However	N
I	N
am	N
still	N
missing	N
how	N
they	N
fit	N
into	N
a	N
full	N
build	N
workflow	N
,	N
since	N
I	N
think	N
it	N
is	N
mandatory	N
to	N
be	N
able	N
to	N
switch	N
concatenation	N
/	N
minification	N
on	N
and	N
off	N
:	N
For	N
development	N
I	N
want	N
to	N
build	N
a	N
WAR	N
that	N
does	N
not	N
contain	N
the	N
concatenated	N
/	N
minified	N
resources	N
so	N
that	N
I	N
can	N
conveniently	N
debug	N
.	N
For	N
a	N
production	N
build	N
I	N
want	N
to	N
produce	N
a	N
WAR	N
that	N
contains	N
the	N
concatenated	N
/	N
minified	N
resources	N
.	N
Additionally	N
for	N
the	N
production	N
build	N
I	N
then	N
have	N
to	N
"	N
rewrite	N
"	N
the	N
script	N
URLs	N
in	N
my	N
html	N
to	N
point	N
to	N
the	N
concatenate	N
/	N
minified	N
version(s)	N
of	N
the	N
script(s)	N
.	N
In	N
the	N
JavaScript	N
world	N
I	N
would	N
use	N
Grunt	N
with	N
different	N
grunt	N
tasks	N
(	N
uglify	N
,	N
usemin	N
)	N
to	N
achieve	N
the	N
above	N
workflow	N
.	N
How	N
can	N
I	N
achieve	N
the	N
same	N
in	N
a	N
Maven	N
build	N
?	N

You	N
should	N
be	N
able	N
to	N
run	N
maven	N
with	N
different	N
profiles	N
so	N
you	N
can	N
minify	N
js	N
scripts	N
for	N
a	N
production	N
build	N
but	N
build	N
it	N
locally	N
with	N
a	N
different	N
profile	N
for	N
the	N
purposes	N
of	N
debugging	N
.	N
There's	N
more	N
information	N
about	N
this	N
on	N
Maven's	N
build	N
profile	N
page	N
Hope	N
this	N
helps	N
.	N

Thanks	N
for	N
your	N
answer	N
.	N
Using	N
Maven	N
profiles	N
solves	N
the	N
first	N
part	N
of	N
my	N
question	N
:	N
How	N
to	N
switch	N
the	N
minification	N
on	N
and	N
off	N
for	N
different	N
builds	N
.	N
However	N
I	N
am	N
still	N
struggling	N
with	N
how	N
can	N
I	N
"	N
rewrite	N
"	N
my	N
HTML	N
so	N
that	N
it	N
uses	N
the	N
non-minified	N
or	N
the	N
minified	N
JavaScript	N
.	N
Is	N
there	N
another	N
Maven	N
plugin	N
for	N
that	N
?	N

Hi	N
again	N
,	N
no	N
problem	N
.	N
It	N
looks	N
like	N
the	N
answer	N
was	N
already	N
found	N
in	N
another	N
Stack	N
Overflow	N
question	N
...	N
[	N
How	N
do	N
you	N
automate	N
javascript	N
minification	N
for	N
your	N
java	N
web	N
applications]	N
(	N
http://stackoverflow.com/questions/1379856/how-do-you-automate-javascript-minification-for-your-java-web-applications)	N
.	N
It	N
looks	N
like	N
you	N
can	N
use	N
YUICompressor	N
ant	N
target	N
.	N
You	N
can	N
use	N
the	N
maven-antrun-plugin	N
to	N
execute	N
an	N
ant	N
goal	N
at	N
whatever	N
point	N
you	N
want	N
in	N
your	N
Maven	N
build	N
.	N
I	N
think	N
that	N
should	N
be	N
enough	N
for	N
you	N
to	N
do	N
what	N
you	N
want	N
.	N

In	N
answer	N
to	N
your	N
question	N
,	N
you	N
could	N
in	N
theory	N
write	N
a	N
bash	N
script	N
that	N
scans	N
all	N
your	N
HTML	N
files	N
and	N
replaces	N
the	N
*	N
.	N
js	N
files	N
with	N
*	N
.	N
min.js	N
if	N
they	N
are	N
located	N
in	N
the	N
same	N
directory	N
.	N
Although	N
I	N
don't	N
know	N
if	N
there	N
is	N
anything	N
out-of-the-box	N
that	N
will	N
do	N
this	N
for	N
it	N
.	N
It's	N
potentially	N
a	N
bit	N
bespoke	N
so	N
unfortunately	N
you	N
may	N
have	N
to	N
write	N
this	N
yourself	N
.	N

If	N
you're	N
using	N
a	N
scripting	N
language	N
like	N
PHP	N
or	N
even	N
JSPs	N
you	N
may	N
be	N
able	N
to	N
write	N
a	N
method	N
that	N
checks	N
if	N
there	N
is	N
a	N
setting	N
to	N
enable	N
the	N
build	N
to	N
use	N
minified	N
js	N
.	N
In	N
which	N
case	N
,	N
then	N
it	N
can	N
precede	N
the	N
*	N
.	N
js	N
with	N
*	N
.	N
min.js	N
as	N
required	N
.	N

@	N
Dropkick	N
:	N
Thanks	N
for	N
your	N
comments	N
.	N
I	N
am	N
still	N
hoping	N
that	N
there	N
is	N
something	N
more	N
mature	N
out	N
there	N
that	N
I	N
have	N
not	N
found	N
yet	N
...	N
I	N
just	N
think	N
that	N
this	N
should	N
be	N
a	N
standard	N
problem	N
that	N
should	N
have	N
a	N
standard	N
solution	N
...	N

Since	N
you	N
mentioned	N
Grunt	N
,	N
have	N
you	N
considered	N
calling	N
Grunt	N
tasks	N
directly	N
from	N
your	N
Maven	N
build	N
?	N
It's	N
not	N
a	N
perfect	N
solution	N
,	N
but	N
it	N
gives	N
you	N
some	N
more	N
options	N
without	N
relying	N
on	N
Maven	N
plugins	N
.	N
http://addyosmani.com/blog/making-maven-grunt	N
Also	N
,	N
this	N
SO	N
topic	N
:	N
Javascript	N
web	N
app	N
and	N
Java	N
server	N
,	N
build	N
all	N
in	N
Maven	N
or	N
use	N
Grunt	N
for	N
web	N
app	N
?	N

Nice	N
choice	N
.	N
Grunt	N
would	N
probably	N
solve	N
the	N
problem	N
since	N
you	N
can	N
just	N
run	N
that	N
grunt	N
task	N
tied	N
with	N
a	N
maven	N
goal	N
.	N

