Closing_NN popups_NNS on_IN session_NN expiry_NN
Here_RB is_VBZ the_DT thing_NN :_: my_PRP$ webapp_NN has_VBZ loads_NNS of_IN popups_NNS and_CC my_PRP$ boss_NN wants_VBZ '_POS em_NN closed_VBD on_IN session_NN expiry_NN ,_, coz_NN when_WRB session_NN expires_VBZ and_CC an_DT user_NN presses_NNS refresh_VBP on_IN a_DT popup_NN ,_, he_PRP is_VBZ being_VBG shown_VBN the_DT logon_NN page_NN ->_CD user_NN logs_NNS on_IN ->_NN user_NN is_VBZ directed_VBN to_TO the_DT dashboard_NN ._. Now_RB ,_, a_DT dashboard_NN screen_NN in_IN a_DT popup_NN is_VBZ totally_RB uncool_JJ ._. Here_RB is_VBZ where_WRB google_NN got_VBD me_PRP :_: Have_VBP javascript_NN to_TO close_VB popup_NN onload_NN ._. Generate_VB this_DT onload_JJ script_NN into_IN the_DT response_NN if_IN session_NN has_VBZ expired_VBN (_CD checking_NN session_NN expiry_NN from_IN jsp_NN and_CC including_VBG onload_JJ script_NN conditionally_RB )_NNP ._. Do_VBP you_PRP think_VB this_DT is_VBZ a_DT good_JJ way_NN to_TO it_PRP ?_. What_WP is_VBZ the_DT best_JJS practice_NN for_IN this_DT scenario_NN ?_. P.S_NNP :_: I_PRP am_VBP not_RB allowed_VBN to_TO use_VB AJAX_NNP
The_DT best_JJS practice_NN is_VBZ to_TO not_RB use_VB "_`` loads_NNS of_IN popups_NNS "_'' ._. That_IN aside_RB ,_, when_WRB you_PRP talk_VBP about_IN closing_NN popup_NN in_IN "_`` onload_JJ "_'' event_NN what_WP would_MD really_RB happen_VB is_VBZ user_NN would_MD refresh_VB the_DT popup_NN and_CC it_PRP would_MD close_RB (_VB which_WDT would_MD be_VB REALLY_NNP weird_JJ from_IN user's_JJ standpoint_NN )_NN OR_NN user_NN would_MD get_VB a_DT prompt_JJ from_IN the_DT browser_NN (_CD close_NN this_DT window_NN ?_. yes_RB /_: no_DT )_NN which_WDT is_VBZ equally_RB weird_JJ ._.
@ChssPly76_NN -_: yes_UH ,_, from_IN an_DT user_NN standpoint_NN ,_, it's_NNS probably_RB weird_JJ ._. But_CC ,_, designing_VBG data-oriented_JJ applications_NNS without_IN pop-ups_NNS is_VBZ one_CD heck_NN of_IN a_DT challenge_NN ._.
I'm_FW ok_FW with_IN popups_NNS as_RB long_RB as_IN I_NNP don't_NNP need_VBP any_DT of_IN the_DT information_NN behind_IN it_PRP ._. If_IN I_PRP do_VBP ,_, I_PRP get_VBP pissed_VBN at_IN them_PRP and_CC curse_NN the_DT designers_NNS ._.
The_DT _only__NN possible_JJ excuse_NN for_IN using_VBG popup_NN windows_NNS is_VBZ a_DT requirement_NN for_IN application_NN to_TO function_VB without_IN javascript_NN because_IN then_RB you_PRP can_MD at_IN least_JJS do_VBP some_DT stuff_NN via_IN `_``
The_DT best_JJS way_NN would_MD be_VB an_DT XMLHTTP_NN request_NN to_TO check_VB login_NN and_CC close_VB them_PRP if_IN required_VBN -_: do_VB this_DT periodically_RB ._. Astute_JJ readers_NNS (_CD meaning_NN everyone_NN )_NN will_MD notice_VB that_IN this_DT is_VBZ an_DT AJAX_NNP request_NN ,_, but_CC if_IN you_PRP phrase_NN it_PRP that_DT way_NN it_PRP might_MD get_VB accepted_VBN as_IN whoever_WP dictated_VBD that_IN you_PRP '_POS aren't_NN allowed_VBD to_TO use_VB AJAX_NNP '_'' is_VBZ clearly_RB an_DT idiot_NN ._.
@Luke_VB the_DT corporate_JJ IT_NNP teams_NNS of_IN non-IT_JJ core_NN companies_NNS are_VBP loaded_VBN with_IN idiots_NNS who_WP would_MD tell_VB you_PRP not_RB to_TO use_VB AJAX_NNP :-)_NNP :_: And_CC my_PRP$ boss_NN is_VBZ one_CD of_IN '_'' em_FW !_.
Won't_VB the_DT periodic_JJ HTTP_NN request_NN keep_VBP the_DT session_NN alive_JJ ?_.
then_RB they_PRP are_VBP screwed_VBN ._. and_CC so_RB are_VBP you_PRP if_IN your_PRP$ boss_NN reads_VBZ that_IN you_PRP just_RB called_VBD him_PRP an_DT idiot_NN ..._:
@matt_NN b_NN :_: not_RB if_IN you_PRP keep_VBP record_NN of_IN the_DT last_JJ user_NN activity_NN ._.
@matt_NN b_NN -_: George_NNP said_VBD what_WP I_PRP was_VBD going_VBG to_TO say_VB :)_NN
In_IN a_DT past_JJ life_NN ,_, I_PRP made_VBD a_DT popup_NN manager_NN object_NN that_WDT maintained_VBD what_WP windows_NNS were_VBD open_JJ ._. You_PRP should_MD probably_RB make_VB one_CD of_IN these_DT if_IN not_RB already_RB done_VBN ._. Then_RB ,_, you_PRP can_MD use_VB setTimeout_NN to_TO call_VB a_DT function_NN after_IN so_RB many_JJ minutes_NNS (_CD or_CC whatever_WDT time_NN you_PRP want_VBP )_CD have_VBP gone_VBN by_IN ._. This_DT will_MD check_VB for_IN recent_JJ activity_NN (_NN probably_RB via_IN AJAX_FW )_FW and_CC close_VB the_DT popup_NN if_IN you_PRP determine_VBP that_IN the_DT session_NN has_VBZ expired_VBN ._. If_IN not_RB ,_, call_VB setTimeout_NN again_RB with_IN your_PRP$ new_JJ time_NN ,_, properly_RB adjusted_VBN for_IN most_JJS recent_JJ activity_NN ._. ^^before_VB the_DT AJAX_NNP edit_NN ._. Well_NNP ,_, since_IN you_PRP can't_VBP use_VB AJAX_NNP ,_, can_MD you_PRP put_VB something_NN in_IN the_DT url_NN that_WDT will_MD tell_VB you_PRP it's_VBP a_DT popup_NN ?_. Then_RB you'll_RB know_VB not_RB to_TO show_VB the_DT login_NN screen_NN when_WRB the_DT user_NN hits_VBZ reload_NN ._.
If_IN your_PRP$ boss_NN is_VBZ asking_VBG you_PRP to_TO achieve_VB this_DT ,_, without_IN using_VBG AJAX_NNP ,_, then_RB you're_NN in_IN trouble_NN ._. He_PRP should_MD understand_VB that_IN the_DT only_JJ connection_NN a_DT browser_NN has_VBZ to_TO the_DT server_NN (_NN without_IN refreshing_VBG the_DT page_NN )_NN is_VBZ javascript_FW (_FW what_WP he_PRP understands_VBZ to_TO be_VB ajax_FW )_FW ._. The_DT best_JJS way_NN to_TO do_VB this_DT is_VBZ to_TO setup_NN a_DT script_NN on_IN the_DT pages_NNS to_TO ask_VB the_DT server_NN if_IN the_DT user_NN is_VBZ still_RB logged_VBN in_IN every_DT 30_CD seconds_NNS or_CC so_RB ._. This_DT script_NN assumes_VBZ you're_NN using_VBG the_DT jQuery_NN framework_NN for_IN rapid_JJ development_NN of_IN javascript_NN solutions_NNS ._. This_NNP also_RB uses_VBZ JSON_NNP (_NNP Javascript_NNP Object-notation_NNP )_NNP to_TO test_VB a_DT return-value_NN from_IN the_DT loggedin.php_NN file_NN ._. Bottom_NN line_NN ,_, you_PRP need_VBP to_TO use_VB AJAX_NNP ._. Tell_VB your_PRP$ boss_NN there_EX is_VBZ no_DT other_JJ way_NN ._. If_IN he_PRP still_RB doesn't_NNP get_VB it_PRP ,_, ask_VB him_PRP to_TO balance_VB his_PRP$ checkbook_NN without_IN using_VBG math_NN ._.
Or_CC just_RB tell_VB your_PRP$ boss_NN that_WDT you're_VBP brilliant_JJ and_CC figured_VBD out_RP a_DT way_NN to_TO do_VB it_PRP with_IN Javascript_NNP instead_RB of_IN AJAX_NNP
Well_RB ,_, the_DT J_NN in_IN AJAX_NNP is_VBZ javascript_NN ._. If_IN its_PRP$ not_RB async_JJ (_NN A_NN )_NN and_CC not_RB xml_FW (_FW X_NN )_NN based_VBN ,_, then_RB he_PRP can_MD build_VB a_DT case_NN saying_VBG that_IN he's_NNS not_RB using_VBG AJAX_NNP ,_, unfortunately_RB ,_, the_DT example_NN uses_VBZ JQuery_NN and_CC underneath_IN the_DT hood_NN ,_, it_PRP is_VBZ using_VBG the_DT A_NN ,_, J_NN and_CC X_NN of_IN AJAX_NNP ._.
An_DT alternative_JJ way_NN to_TO implement_VB modal_JJ dialogs_NNS in_IN a_DT web_NN application_NN is_VBZ to_TO :_: Model_NNP the_DT dialog_NN in_IN a_DT DIV_NN ,_, default_NN styled_VBD to_TO display_VB :_: none_NN ;_: On_IN desired_VBN action_NN ,_, inject_VB /_: append_VB the_DT Modal_NNP dialog_NN DIV_NNP into_IN the_DT page_NN source_NN Reset_NNP the_DT CSS_NNP display_NN so_IN the_DT modal_JJ dialog_NN DIV_NN is_VBZ visible_JJ ,_, overlaid_JJ on_IN top_NN of_IN the_DT page_NN by_IN setting_VBG the_DT CSS_NN z-index_NN property_NN Make_VBP the_DT modal_JJ dialog_NN disappear_VB upon_IN either_CC successful_JJ execution_NN or_CC the_DT user_NN cancelling_VBG out_RP Because_IN the_DT modal_JJ dialog_NN is_VBZ part_NN of_IN the_DT page_NN source_NN ,_, the_DT dialog_NN will_MD disappear_VB when_WRB the_DT session_NN times_NNS out_RP ._. This_DT approach_NN doesn't_NN spawn_VBP supporting_VBG windows_NNS that_WDT can_MD be_VB orphaned_VBN as_IN the_DT poster_NN is_VBZ attempting_VBG to_TO address_VB ._. And_CC it_PRP fits_VBZ the_DT requirement_NN of_IN not_RB using_VBG AJAX_NNP ._. You_PRP can_MD code_VB these_DT by_IN hand_NN ,_, but_CC I_PRP don't_VBP really_RB recommend_VB it_PRP because_IN of_IN having_VBG to_TO support_VB various_JJ browser_NN ._. I_PRP suggest_VBP looking_VBG at_IN the_DT Yahoo_NNP User_NN Interface_NNP ._. You_PRP can_MD tailor_VB it_PRP to_TO suit_VB your_PRP$ needs_NNS (_CD IE_NN :_: only_RB modal_JJ dialogs_FW )_FW ,_, and_CC it_PRP would_MD support_VB AJAX_NNP if_IN requirements_NNS change_VBP down_IN the_DT road_NN ._. Beware_VB of_IN spawning_VBG modal_JJ dialogs_NNS from_IN modal_JJ dialogs_NNS ._.
In_IN theory_NN ,_, you_PRP could_MD avoid_VB AJAX_NNP by_IN using_VBG a_DT hidden_JJ flash_NN widget_NN ..._: But_CC more_RBR practically_RB ,_, AJAX_NNP is_VBZ the_DT '_'' right_JJ '_'' solution_NN ,_, and_CC I_PRP think_VBP you_PRP will_MD have_VB to_TO talk_VB to_TO your_PRP$ boss_NN ,_, determine_VB where_WRB this_DT '_'' no_DT AJAX_NN '_'' rule_NN came_VBD from_IN ,_, and_CC convince_VB him_PRP that_IN AJAX_NNP is_VBZ the_DT best_JJS way_NN to_TO solve_VB this_DT problem_NN ._. Does_VBZ he_PRP think_VB AJAX_NNP would_MD be_VB take_VB too_RB much_JJ time_NN to_TO implement_VB ?_. If_IN so_RB ,_, you_PRP should_MD prove_VB him_PRP wrong_JJ ._. Does_VBZ he_PRP think_VB it_PRP will_MD be_VB hard_JJ to_TO maintain_VB ?_. If_IN so_RB ,_, show_VB how_WRB simple_JJ the_DT code_NN to_TO do_VB this_DT will_MD be_VB ,_, and_CC how_WRB widely_RB used_VBD the_DT common_JJ AJAX_NNP libraries_NNS are_VBP ._. If_IN your_PRP$ boss_NN is_VBZ reasonable_JJ ,_, then_RB his_PRP$ goal_NN is_VBZ to_TO what_WP is_VBZ best_JJS for_IN the_DT product_NN ,_, and_CC you_PRP should_MD be_VB able_JJ to_TO reason_VB with_IN him_PRP ._.
