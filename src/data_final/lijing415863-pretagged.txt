How	R
to	P
preview	N
a	D
file	N
on	P
the	D
server	N
in	P
JBoss	^

I	O
need	V
some	D
ideas	N
on	P
how	R
I	O
can	V
best	A
solve	V
this	D
problem	N
.	,
I	O
have	V
a	D
JBoss	^
Seam	^
application	N
running	V
on	P
JBoss	^
4.3	$
.	,
3	$
What	O
a	D
small	A
portion	N
of	P
this	D
application	N
does	V
is	V
generate	V
an	D
html	N
and	&
a	D
pdf	N
document	N
based	V
on	P
an	D
Open	^
Office	^
template	N
.	,
The	D
files	N
that	O
are	V
generated	V
I	O
put	V
inside	P
/	,
tmp	N
on	P
the	D
filesystem	^
.	,
I	O
have	V
tried	V
with	P
System.getProperties	^
(	,
"	E
tmp.dir	E
")	E
and	&
some	D
other	A
options	N
,	,
and	&
they	O
always	R
return	A
$JBOSS_HOME	N
/	,
bin	V
I	O
would	V
like	V
to	P
choose	V
the	D
path	N
$JBOSS_HOME	V
/	,
$DEPLOY	E
/	,
myEAR.ear	E
/	,
myWAR.war	E
/	,
WhateverLocationHere	L
However	R
,	,
I	O
don't	V
know	V
how	R
I	O
can	V
programatically	R
choose	V
path	N
without	P
giving	V
an	D
absolute	A
path	N
,	,
or	&
setting	V
$JBOSS_HOME	^
and	&
$DEPLOY	R
.	,
Anybody	N
know	V
how	R
I	O
can	V
do	V
this	D
?	,
The	D
second	A
question	N
;	,
I	O
want	V
to	P
easily	R
preview	N
these	O
generated	V
files	N
.	,
Either	&
through	P
JavaScript	^
,	,
or	&
whatever	O
is	V
the	D
easiest	A
way	N
.	,
However	R
,	,
JavaScript	^
cannot	V
access	V
the	D
filesystem	^
on	P
the	D
server	N
,	,
so	P
I	O
cannot	V
open	V
the	D
file	N
through	P
JavaScript	^
.	,
Any	D
easy	A
solutions	N
out	P
there	R
?	,

Not	R
sure	A
I	O
have	V
a	D
complete	A
grasp	N
of	P
what	O
you	O
are	V
trying	V
to	P
achieve	V
,	,
but	&
I'll	L
give	V
it	O
a	D
try	V
anyway	R
:	,
My	D
assumption	N
is	V
that	P
your	D
final	A
goal	N
is	V
to	P
make	V
some	D
files	N
(	,
PDF	^
,	,
HTML	^
)	,
available	A
to	P
end	N
users	N
via	P
a	D
web	N
application	N
.	,
In	P
that	D
case	N
,	,
why	R
not	R
have	V
Apache	^
serve	V
those	O
file	V
to	P
the	D
end	N
users	N
,	,
so	P
you	O
only	R
need	V
your	D
JBOSS	N
application	N
to	P
know	V
the	D
path	N
of	P
a	D
directory	N
that	P
is	V
mapped	V
to	P
an	D
Apache	^
virtual	A
host	N
.	,
So	P
basically	R
,	,
create	V
a	D
file	N
and	&
save	V
it	O
as	P
/	,
var	E
/	,
www	!
/	,
html	E
/	,
myappfiles	N
/	,
tempfile.pdf	!
(	,
the	D
folder	N
your	D
application	N
knows	V
)	,
,	,
and	&
then	R
provide	V
http://mydomain.com/myappfiles	U
(	,
an	D
Apache	^
virtual	A
host	N
)	,
to	P
your	D
users	N
.	,
The	D
rest	N
will	V
be	V
done	V
by	P
the	D
web	N
server	N
.	,
You	O
will	V
have	V
to	P
set	V
an	D
environment	N
variable	A
or	&
system	N
property	N
to	P
let	V
your	D
application	N
know	V
where	R
your	D
folder	N
resides	V
(/	E
var	^
/	,
www	!
/	,
html	!
/	,
myappfiles	V
in	P
this	D
example	N
)	,
.	,
Hopefully	R
I	O
was	V
not	R
way	R
off	R
:)	E

I'm	L
not	R
sure	A
if	P
this	D
works	V
in	P
JBoss	^
,	,
given	V
that	P
you	O
want	V
a	D
path	N
inside	P
a	D
WAR	N
archive	N
,	,
but	&
you	O
could	V
try	V
using	V
ServletContext.getRealPath	^
(	,
String	N
)	,
.	,
However	R
,	,
I	O
personally	R
would	V
not	R
want	V
generated	V
files	N
to	P
be	V
inside	P
my	D
deployed	V
application	N
;	,
instead	R
I	O
would	V
configure	P
an	D
external	A
data	N
directory	N
somewhere	R
like	P
$JBOSS_HOME	^
/	,
server	N
/	,
default	N
/	,
data	N
/	,
myapp	!

I	O
agree	V
with	P
Peter	^
(	,
yo	!
Pete	^
!	,
)	E
.	,
Put	V
the	D
directory	N
outside	N
of	P
your	D
WAR	N
and	&
setup	N
an	D
environment	N
variable	N
pointing	V
to	P
this	D
.	,
Have	V
a	D
read	V
of	P
this	D
post	N
by	P
Jacob	^
Orshalick	^
about	P
how	R
to	P
configure	A
environment	N
variables	N
in	P
Seam	^
:	,
As	R
for	P
previewing	V
PDFs	^
,	,
have	V
a	D
look	V
at	P
how	R
Google	^
Docs	^
handles	V
previewing	V
PDFs	^
-	,
it	O
displays	V
them	O
as	P
an	D
image	N
.	,
To	P
do	V
this	D
with	P
Java	^
check	V
out	T
the	D
Sun	^
PDF	^
Renderer	^
.	,

Not	R
sure	R
how	R
you	O
are	V
generating	V
your	D
PDFs	^
,	,
but	&
if	P
possible	A
,	,
skip	V
the	D
disk	N
IO	^
all	R
together	R
,	,
stash	V
the	D
PDF	N
content	N
in	P
a	D
byte	N
[]	^
and	&
flush	V
it	O
out	T
to	P
the	D
user	N
in	P
a	D
servlet	N
setting	V
the	D
mime	N
type	N
to	P
application	N
/	,
pdf	!
*	,
that	O
responds	V
to	P
a	D
URL	N
which	O
is	V
specified	V
by	P
a	D
link	N
in	P
your	D
client	N
or	&
dynamically	R
set	V
in	P
a	D
div	N
by	P
javascript	^
.	,
You're	L
probably	R
taking	V
the	D
memory	N
hit	V
anyways	!
,	,
and	&
in	P
addition	N
to	P
skipping	V
the	D
IO	^
,	,
you	O
don't	V
have	V
to	P
worry	V
about	P
deleting	V
the	D
tmp	N
files	N
when	R
you're	L
done	V
with	P
the	D
preview	N
.	,
*	,
I	O
think	V
this	D
is	V
right	R
.	,
Need	V
to	P
look	V
it	O
up	T
.	,

I	O
did	V
something	N
like	P
this	D
,	,
and	&
it	O
worked	V
great	A
.	,
Thanks	N

First	A
,	,
most	A
platforms	N
use	V
java.io.tmpdir	N
to	P
set	V
a	D
temporary	A
directory	N
.	,
Some	D
servlet	N
containers	N
redefine	V
this	D
property	N
to	P
be	V
something	N
underneath	P
their	D
tree	N
.	,
Why	R
do	V
you	O
care	V
where	R
the	D
file	N
gets	V
written	V
?	,
Second	N
,	,
I	O
agree	V
with	P
Nicholas	^
:	,
After	P
generating	V
the	D
PDF	N
on	P
the	D
server	N
side	N
,	,
you	O
can	V
generate	V
a	D
URL	N
that	O
,	,
when	O
clicked	V
,	,
sends	V
the	D
file	N
to	P
the	D
browser	N
.	,
If	P
you	O
use	V
MIME	A
type	N
application	N
/	,
pdf	!
,	,
the	D
browser	N
should	V
do	V
the	D
right	A
thing	N
with	P
it	O
.	,

